/*
Streamline by Archetype Themes (https://archetypethemes.co)
  Access unminified JS in assets/theme.js

  Use our custom event listeners to tap into common functions.
  Documentation - https://archetypethemes.co/blogs/streamline/javascript-events-for-developers

  document.addEventListener('page:loaded', function() {
    // Stylesheet and theme scripts have loaded
  });
*/
window.theme=window.theme||{},theme.bp={},theme.bp.smallUp=769,theme.bp.small=theme.bp.smallUp-1,theme.config={cssLoaded:!1,bpSmall:!1,hasSessionStorage:!0,mediaQuerySmall:"screen and (max-width: "+theme.bp.small+"px)",mediaQuerySmallUp:"screen and (min-width: "+theme.bp.smallUp+"px)",youTubeReady:!1,vimeoReady:!1,vimeoLoading:!1,isSafari:!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/),isTouch:!!("ontouchstart"in window||window.DocumentTouch&&window.document instanceof DocumentTouch||window.navigator.maxTouchPoints||window.navigator.msMaxTouchPoints),rtl:"rtl"==document.documentElement.getAttribute("dir")},console&&console.log&&console.log("Streamline theme ("+theme.settings.themeVersion+") by ARCHÎžTYPE | Learn more at https://archetypethemes.co"),window.lazySizesConfig=window.lazySizesConfig||{},lazySizesConfig.expFactor=4,function(t){function e(){var e,i,n=t.Deferred();return e=setInterval(function(){Vimeo&&(clearInterval(e),clearTimeout(i),n.resolve())},500),i=setTimeout(function(){clearInterval(e),n.reject()},4e3),n}var t=jQuery=t;theme.utils={defaultTo:function(t,e){return null==t||t!==t?e:t},promiseStylesheet:function(){return"undefined"==typeof this.stylesheetPromise&&(this.stylesheetPromise=t.Deferred(function(t){var e=document.querySelector('link[href="'+theme.stylesheet+'"]');e.loaded&&t.resolve(),onloadCSS(e,function(){t.resolve()})})),this.stylesheetPromise}},theme.a11y={trapFocus:function(e){function i(t){9===t.keyCode&&(t.target!==s||t.shiftKey||(t.preventDefault(),a.focus()),t.target===a&&t.shiftKey&&(t.preventDefault(),s.focus()))}var n={focusin:e.namespace?"focusin."+e.namespace:"focusin",focusout:e.namespace?"focusout."+e.namespace:"focusout",keydown:e.namespace?"keydown."+e.namespace:"keydown.handleFocus"},o=e.$container.find(t('button, [href], input, select, textarea, [tabindex]:not([tabindex^="-"])').filter(":visible")),a=o[0],s=o[o.length-1];e.$elementToFocus||(e.$elementToFocus=e.$container),e.$container.attr("tabindex","-1"),e.$elementToFocus.focus(),t(document).off("focusin"),t(document).on(n.focusout,function(){t(document).off(n.keydown)}),t(document).on(n.focusin,function(e){e.target!==s&&e.target!==a||t(document).on(n.keydown,function(t){i(t)})})},removeTrapFocus:function(e){var i=e.namespace?"focusin."+e.namespace:"focusin";e.$container&&e.$container.length&&e.$container.removeAttr("tabindex"),t(document).off(i)},lockMobileScrolling:function(e,i){if(i)var n=i;else var n=t(document.documentElement).add("body");n.on("touchmove"+e,function(){return!1})},unlockMobileScrolling:function(e,i){if(i)var n=i;else var n=t(document.documentElement).add("body");n.off(e)},promiseAnimationEnd:function(e){var i="animationend webkitAnimationEnd oAnimationEnd",n=["animation-duration","-moz-animation-duration","-webkit-animation-duration","-o-animation-duration"],o=0,a=t.Deferred().resolve();return t.each(n,function(t,i){o||(o=parseFloat(e.css(i)))}),o>0&&(a=t.Deferred(function(t){e.on(i,function(n){n.target===e[0]&&(e.off(i),t.resolve())})})),a},promiseTransitionEnd:function(e){var i="webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",n=["transition-duration","-moz-transition-duration","-webkit-transition-duration","-o-transition-duration"],o=0,a=t.Deferred().resolve();return t.each(n,function(t,i){o||(o=parseFloat(e.css(i)))}),o>0&&(a=t.Deferred(function(t){e.on(i,function(n){n.target===e[0]&&(e.off(i),t.resolve())})})),a}},theme.Sections=function(){this.constructors={},this.instances=[],t(document).on("shopify:section:load",this._onSectionLoad.bind(this)).on("shopify:section:unload",this._onSectionUnload.bind(this)).on("shopify:section:select",this._onSelect.bind(this)).on("shopify:section:deselect",this._onDeselect.bind(this)).on("shopify:block:select",this._onBlockSelect.bind(this)).on("shopify:block:deselect",this._onBlockDeselect.bind(this))},theme.Sections.prototype=t.extend({},theme.Sections.prototype,{createInstance:function(e,i,n){var o=t(e),a=o.attr("data-section-id"),s=o.attr("data-section-type");if(i=i||this.constructors[s],"undefined"!=typeof i){if(n){var r=this._findInstance(a);if(r)return}var c=t.extend(new i(e),{id:a,type:s,container:e,namespace:"."+s+"-"+a});this.instances.push(c)}},_onSectionLoad:function(e,i,n){AOS&&AOS.refreshHard();var o=i?i:t("[data-section-id]",e.target)[0];if(o){this.createInstance(o);var a=i?n:this._findInstance(e.detail.sectionId);i||this.loadSubSections(),a&&"function"==typeof a.onLoad&&a.onLoad(e)}},loadSubSections:function(e){var i=e?e.find("[data-subsection]"):t("[data-subsection]");i.each(function(e,i){this._onSectionLoad(null,i,t(i).data("section-id"))}.bind(this)),AOS&&AOS.refreshHard()},_onSectionUnload:function(t){var e=this._removeInstance(t.detail.sectionId);e&&"function"==typeof e.onUnload&&e.onUnload(t)},_onSelect:function(t){var e=this._findInstance(t.detail.sectionId);e&&"function"==typeof e.onSelect&&e.onSelect(t)},_onDeselect:function(t){var e=this._findInstance(t.detail.sectionId);e&&"function"==typeof e.onDeselect&&e.onDeselect(t)},_onBlockSelect:function(t){var e=this._findInstance(t.detail.sectionId);e&&"function"==typeof e.onBlockSelect&&e.onBlockSelect(t)},_onBlockDeselect:function(t){var e=this._findInstance(t.detail.sectionId);e&&"function"==typeof e.onBlockDeselect&&e.onBlockDeselect(t)},_findInstance:function(t){for(var e=0;e<this.instances.length;e++)if(this.instances[e].id===t)return this.instances[e]},_removeInstance:function(t){for(var e,i=this.instances.length;i--;)if(this.instances[i].id===t){e=this.instances[i],this.instances.splice(i,1);break}return e},reinitSection:function(t){for(var e=0;e<sections.instances.length;e++){var i=sections.instances[e];i.type===t&&"function"==typeof i.forceReload&&i.forceReload()}},register:function(e,i,n){this.constructors[e]=i;var o=t("[data-section-type="+e+"]");n&&(o=t("[data-section-type="+e+"]",n)),o.each(function(t,e){this.createInstance(e,i,n)}.bind(this))}}),theme.Currency=function(){function t(t,e){function n(t,e,i,n){if(e=theme.utils.defaultTo(e,2),i=theme.utils.defaultTo(i,","),n=theme.utils.defaultTo(n,"."),isNaN(t)||null==t)return 0;t=(t/100).toFixed(e);var o=t.split("."),a=o[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+i),s=o[1]?n+o[1]:"";return a+s}"string"==typeof t&&(t=t.replace(".",""));var o="",a=/\{\{\s*(\w+)\s*\}\}/,s=e||i;switch(s.match(a)[1]){case"amount":o=n(t,2);break;case"amount_no_decimals":o=n(t,0);break;case"amount_with_comma_separator":o=n(t,2,".",",");break;case"amount_no_decimals_with_comma_separator":o=n(t,0,".",",");break;case"amount_no_decimals_with_space_separator":o=n(t,0," ")}return s.replace(a,o)}function e(t){if(t&&t.unit_price_measurement&&t.unit_price_measurement.reference_value)return 1===t.unit_price_measurement.reference_value?t.unit_price_measurement.reference_unit:t.unit_price_measurement.reference_value+t.unit_price_measurement.reference_unit}var i="${{amount}}";return{formatMoney:t,getBaseUnit:e}}(),theme.Images=function(){function t(t){if(!t)return"620x";var e=t.match(/.+_((?:pico|icon|thumb|small|compact|medium|large|grande)|\d{1,4}x\d{0,4}|x\d{1,4})[_\.@]/);return null!==e?e[1]:null}function e(t,e){if(null==e)return t;if("master"===e)return this.removeProtocol(t);var i=t.match(/\.(jpg|jpeg|gif|png|bmp|bitmap|tiff|tif)(\?v=\d+)?$/i);if(null!=i){var n=t.split(i[0]),o=i[0];return this.removeProtocol(n[0]+"_"+e+o)}return null}function i(t){return t.replace(/http(s)?:/,"")}return{imageSize:t,getSizedImageUrl:e,removeProtocol:i}}(),theme.Variants=function(){function e(e){this.$container=e.$container,this.variants=e.variants,this.singleOptionSelector=e.singleOptionSelector,this.originalSelectorId=e.originalSelectorId,this.enableHistoryState=e.enableHistoryState,this.currentVariant=this._getVariantFromOptions(),t(this.singleOptionSelector,this.$container).on("change",this._onSelectChange.bind(this))}return e.prototype=t.extend({},e.prototype,{_getCurrentOptions:function(){var e=t.map(t(this.singleOptionSelector,this.$container),function(e){var i=t(e),n=i.attr("type"),o={};return"radio"===n||"checkbox"===n?!!i[0].checked&&(o.value=i.val(),o.index=i.data("index"),o):(o.value=i.val(),o.index=i.data("index"),o)});return e=this._compact(e)},_getVariantFromOptions:function(){var t=this._getCurrentOptions(),e=this.variants,i=!1;return e.forEach(function(e){var n=!0;e.options;t.forEach(function(t){n&&(n=e[t.index]===t.value)}),n&&(i=e)}),i||null},_onSelectChange:function(){var t=this._getVariantFromOptions();this.$container.trigger({type:"variantChange",variant:t}),document.dispatchEvent(new CustomEvent("variant:change",{detail:{variant:t}})),t&&(this._updateMasterSelect(t),this._updateImages(t),this._updatePrice(t),this._updateUnitPrice(t),this._updateSKU(t),this.currentVariant=t,this.enableHistoryState&&this._updateHistoryState(t))},_updateImages:function(t){var e=t.featured_image||{},i=this.currentVariant.featured_image||{};t.featured_image&&e.src!==i.src&&this.$container.trigger({type:"variantImageChange",variant:t})},_updatePrice:function(t){t.price===this.currentVariant.price&&t.compare_at_price===this.currentVariant.compare_at_price||this.$container.trigger({type:"variantPriceChange",variant:t})},_updateUnitPrice:function(t){t.unit_price!==this.currentVariant.unit_price&&this.$container.trigger({type:"variantUnitPriceChange",variant:t})},_updateSKU:function(t){t.sku!==this.currentVariant.sku&&this.$container.trigger({type:"variantSKUChange",variant:t})},_updateHistoryState:function(t){if(history.replaceState&&t){var e=window.location.protocol+"//"+window.location.host+window.location.pathname+"?variant="+t.id;window.history.replaceState({path:e},"",e)}},_updateMasterSelect:function(e){t(this.originalSelectorId,this.$container).val(e.id)},_compact:function(t){for(var e=-1,i=null==t?0:t.length,n=0,o=[];++e<i;){var a=t[e];a&&(o[n++]=a)}return o}}),e}(),theme.rte={init:function(){theme.rte.wrapTable(),theme.rte.wrapVideo(),theme.rte.imageLinks()},wrapTable:function(){t(".rte table").wrap('<div class="table-wrapper"></div>')},wrapVideo:function(){var e=t('.rte iframe[src*="youtube.com/embed"], .rte iframe[src*="player.vimeo"]'),i=e.add("iframe#admin_bar_iframe");e.each(function(){t(this).parents(".video-wrapper").length||t(this).wrap('<div class="video-wrapper"></div>')}),i.each(function(){this.src=this.src})},imageLinks:function(){t(".rte a img").parent().addClass("rte__image")}},theme.LibraryLoader=function(){function t(t,a){var r=s[t];if(r&&r.status!==o.requested){if(a=a||function(){},r.status===o.loaded)return void a();r.status=o.requested;var c;switch(r.type){case n.script:c=e(r,a);break;case n.link:c=i(r,a)}c.id=r.tagId,r.element=c;var d=document.getElementsByTagName(r.type)[0];d.parentNode.insertBefore(c,d)}}function e(t,e){var i=document.createElement("script");return i.src=t.src,i.addEventListener("load",function(){t.status=o.loaded,e()}),i}function i(t,e){var i=document.createElement("link");return i.href=t.src,i.rel="stylesheet",i.type="text/css",i.addEventListener("load",function(){t.status=o.loaded,e()}),i}var n={link:"link",script:"script"},o={requested:"requested",loaded:"loaded"},a="https://cdn.shopify.com/shopifycloud/",s={youtubeSdk:{tagId:"youtube-sdk",src:"https://www.youtube.com/iframe_api",type:n.script},shopifyXr:{tagId:"shopify-model-viewer-xr",src:a+"shopify-xr-js/assets/v1.0/shopify-xr.en.js",type:n.script},modelViewerUi:{tagId:"shopify-model-viewer-ui",src:a+"model-viewer-ui/assets/v1.0/model-viewer-ui.en.js",type:n.script},modelViewerUiStyles:{tagId:"shopify-model-viewer-ui-styles",src:a+"model-viewer-ui/assets/v1.0/model-viewer-ui.css",type:n.link}};return{load:t}}(),theme.Modals=function(){function e(e,i,n){var o={close:".js-modal-close",open:".js-modal-open-"+i,openClass:"modal--is-active",bodyOpenClass:"modal-open",closeOffContentClick:!0};return this.id=e,this.$modal=t("#"+e),!!this.$modal.length&&(this.nodes={$parent:t("html").add("body"),$modalContent:this.$modal.find(".modal__inner")},this.config=t.extend(o,n),this.modalIsOpen=!1,this.$focusOnOpen=this.config.focusOnOpen?t(this.config.focusOnOpen):this.$modal,void this.init())}return e.prototype.init=function(){var e=t(this.config.open);e.attr("aria-expanded","false"),t(this.config.open).on("click",this.open.bind(this)),this.$modal.find(this.config.close).on("click",this.close.bind(this)),t("body").on("drawerOpen",function(){this.close()}.bind(this))},e.prototype.open=function(e){var i=!1;this.modalIsOpen||(e?e.preventDefault():i=!0,e&&e.stopPropagation&&(e.stopPropagation(),this.$activeSource=t(e.currentTarget).attr("aria-expanded","true")),this.modalIsOpen&&!i&&this.close(),this.$modal.addClass(this.config.openClass),this.nodes.$parent.addClass(this.config.bodyOpenClass),setTimeout(function(){this.$modal.addClass("aos-animate")}.bind(this),0),this.modalIsOpen=!0,theme.a11y.trapFocus({$container:this.$modal,$elementToFocus:this.$focusOnOpen,namespace:"modal_focus"}),t("body").trigger("modalOpen."+this.id),this.bindEvents())},e.prototype.close=function(){this.modalIsOpen&&(t(document.activeElement).trigger("blur"),this.$modal.removeClass(this.config.openClass).removeClass("aos-animate"),this.nodes.$parent.removeClass(this.config.bodyOpenClass),this.modalIsOpen=!1,theme.a11y.removeTrapFocus({$container:this.$modal,namespace:"modal_focus"}),this.$activeSource&&this.$activeSource.attr("aria-expanded")&&this.$activeSource.attr("aria-expanded","false").focus(),t("body").trigger("modalClose."+this.id),this.unbindEvents())},e.prototype.bindEvents=function(){this.nodes.$parent.on("keyup.modal",function(t){27===t.keyCode&&this.close()}.bind(this)),this.config.closeOffContentClick&&(this.$modal.on("click.modal",this.close.bind(this)),this.nodes.$modalContent.on("click.modal",function(t){t.stopImmediatePropagation()}))},e.prototype.unbindEvents=function(){this.nodes.$parent.off(".modal"),this.config.closeOffContentClick&&(this.$modal.off(".modal"),this.nodes.$modalContent.off(".modal"))},e}(),theme.ProductScreen=function(){function e(e,i,n){var o={close:".js-screen-close",open:".js-screen-open-"+i,openClass:"screen-layer--is-active",closeSlideAnimate:"screen-layer--is-sliding",bodyOpenClass:"screen-layer-open",bodyClosingClass:"screen-layer-closing",bodyCloseAnimate:"screen-layer-closing screen-layer-animating",loaderStart:200,pullToCloseThreshold:-100};return this.id=e,this.$screen=t("#"+e),this.title=this.$screen.data("product-title"),!!this.$screen.length&&(this.nodes={$parent:t("html").add("body"),$body:t("body"),$loader:t("#OverscrollLoader").find(".icon-loader__path"),$screenContent:this.$screen.find(".screen-layer__inner"),$photoswipe:t(".pswp")},this.config=t.extend(o,n),this.initalized=!1,this.isOpen=!1,this.$focusOnOpen=this.config.focusOnOpen?t(this.config.focusOnOpen):this.$screen,void this.init())}var i=document.title,n="productscreen",o=0;t("#MainContent");return e.prototype.init=function(){var e=t(this.config.open);e.attr("aria-expanded","false"),t("body").on("click",this.config.open,this.open.bind(this)),this.$screen.find(this.config.close).on("click",{noAnimate:!0,back:!0},this.close.bind(this)),"sticky"===theme.settings.cartType&&(this.nodes.$body.on("added."+this.id,function(){theme.headerNav.toggleThumbMenu(!1,!0);var t={back:!0};this.close(!1,t)}.bind(this)),this.nodes.$body.on("error."+this.id,function(){this.initalized&&this.open()}.bind(this)))},e.prototype.open=function(e,i){var a=!1,s={updateCurrentPath:!i||i.updateCurrentPath};if(!this.isOpen){e?e.preventDefault():a=!0,e&&e.stopPropagation&&(e.stopPropagation(),this.$activeSource=t(e.currentTarget)),this.isOpen&&!a&&this.close(),o=window.scrollY,this.$screen.prepareTransition().addClass(this.config.openClass),this.nodes.$parent.addClass(this.config.bodyOpenClass),this.nodes.$screenContent.scrollTop(0),window.scrollTo(0,0),theme.a11y.trapFocus({$container:this.$screen,$elementToFocus:this.$focusOnOpen,namespace:n}),this.$activeSource&&this.$activeSource.attr("aria-expanded")&&this.$activeSource.attr("aria-expanded","true");var r=this.$activeSource.data("url");this.nodes.$body.trigger("productModalOpen."+this.id).trigger("newPopstate",{screen:this,url:r,updateCurrentPath:s.updateCurrentPath}),this.initalized=!0,this.isOpen=!0,document.title=this.title,window.ga&&ga("send","pageview",{page:r}),this.bindEvents()}},e.prototype.close=function(e,a){var s=a?a:e?e.data:null,r=!!s&&s.back,c=!(!s||!s.noAnimate);this.nodes.$body.removeAttr("style"),this.nodes.$loader.css("stroke-dashoffset",this.config.loaderStart),r&&this.nodes.$body.trigger("newPopstate",{screen:this,back:!0});var d=c?"":this.config.closeSlideAnimate,l=c?this.config.bodyClosingClass:this.config.bodyCloseAnimate;this.isOpen&&(t(document.activeElement).trigger("blur"),this.$screen.prepareTransition().removeClass(this.config.openClass).addClass(d),this.nodes.$parent.removeClass(this.config.bodyOpenClass).addClass(l),window.setTimeout(function(){this.$screen.removeClass(d),this.nodes.$parent.removeClass(l),window.scrollTo(0,o)}.bind(this),500),theme.a11y.removeTrapFocus({$container:this.$screen,namespace:n}),this.$activeSource&&this.$activeSource.attr("aria-expanded")&&this.$activeSource.attr("aria-expanded","false").focus(),this.nodes.$body.trigger("productModalClose").trigger("productModalClose."+this.id),window.scrollTo(0,o),this.isOpen=!1,document.title=i,window.ga&&ga("send","pageview"),this.unbindEvents())},e.prototype.bindEvents=function(){this.nodes.$body.on("keyup."+n,function(t){if(27===t.keyCode){if(this.nodes.$photoswipe.hasClass("pswp--open"))return;if(this.nodes.$body.hasClass("js-drawer-open"))return;var e={back:!0};this.close(!1,e)}}.bind(this));var e=0,i=0;t(document).on("touchmove."+n,t.throttle(15,function(t){var n=window.scrollY;n>=0||(e=-(n/100),this.nodes.$body.css("background","rgba(0,0,0,"+e+")"),i=this.config.loaderStart+2*n,n<=this.config.pullToCloseThreshold&&(i=0),this.nodes.$loader.css("stroke-dashoffset",i))}.bind(this))),t(document).on("touchend."+n,function(t){totalLoader=this.config.loaderStart;var e=window.scrollY;if(e<this.config.pullToCloseThreshold){var i={back:!0};this.close(!1,i)}}.bind(this))},e.prototype.unbindEvents=function(){this.nodes.$body.off("."+n),t(document).off("."+n)},e}(),theme.Drawers=function(){function e(e,i){return this.config={id:e,close:".js-drawer-close",open:".js-drawer-open-"+i,openClass:"js-drawer-open",closingClass:"js-drawer-closing",activeDrawer:"drawer--is-open",namespace:".drawer-"+i},this.$nodes={parent:t(document.documentElement).add("body"),page:t("body")},this.$drawer=t("#"+e),!!this.$drawer.length&&(this.isOpen=!1,void this.init())}return e.prototype=t.extend({},e.prototype,{init:function(){var e=t(this.config.open);e.attr("aria-expanded","false"),e.on("click",this.open.bind(this)),this.$drawer.find(this.config.close).on("click",this.close.bind(this))},open:function(e,i){if(e&&e.preventDefault(),!this.isOpen){if(e&&e.stopPropagation)e.stopPropagation(),this.$activeSource=t(e.currentTarget).attr("aria-expanded","true");else if(i){var n=t(i);this.$activeSource=n.attr("aria-expanded","true")}this.$drawer.prepareTransition().addClass(this.config.activeDrawer),this.$nodes.parent.addClass(this.config.openClass),this.isOpen=!0,theme.a11y.trapFocus({$container:this.$drawer,namespace:"drawer_focus"}),t("body").trigger("drawerOpen."+this.config.id),this.bindEvents()}},close:function(){this.isOpen&&(t(document.activeElement).trigger("blur"),this.$drawer.prepareTransition().removeClass(this.config.activeDrawer),this.$nodes.parent.removeClass(this.config.openClass),this.$nodes.parent.addClass(this.config.closingClass),window.setTimeout(function(){this.$nodes.parent.removeClass(this.config.closingClass),this.$activeSource&&this.$activeSource.attr("aria-expanded")&&this.$activeSource.attr("aria-expanded","false").focus()}.bind(this),500),this.isOpen=!1,theme.a11y.removeTrapFocus({$container:this.$drawer,namespace:"drawer_focus"}),this.unbindEvents())},bindEvents:function(){theme.a11y.lockMobileScrolling(this.config.namespace,this.$nodes.page),this.$nodes.page.on("click"+this.config.namespace,function(t){if(t.target===this.$nodes.page[0])return this.close(),!1}.bind(this)),this.$nodes.parent.on("keyup"+this.config.namespace,function(t){27===t.keyCode&&this.close()}.bind(this))},unbindEvents:function(){theme.a11y.unlockMobileScrolling(this.config.namespace,this.$nodes.page),this.$nodes.parent.off(this.config.namespace),this.$nodes.page.off(this.config.namespace)}}),e}(),theme.cart={getCart:function(){return t.getJSON(theme.routes.cart)},changeItem:function(t,e){return this._updateCart({type:"POST",url:theme.routes.cartChange,data:"quantity="+e+"&id="+t,dataType:"json"})},addItemFromForm:function(t){return this._updateCart({type:"POST",url:theme.routes.cartAdd,data:t,dataType:"json"})},_updateCart:function(e){return t.ajax(e).then(function(e){return t("body").trigger("updateCart",e),e}.bind(this))},updateNote:function(e){var i={type:"POST",url:"/cart/update.js",data:"note="+theme.cart.attributeToString(e),dataType:"json",success:function(t){},error:function(t,e){}};t.ajax(i)},attributeToString:function(t){return"string"!=typeof t&&(t+="","undefined"===t&&(t="")),t.trim()}},t(function(){t("body").on("click",".cart__checkout",function(){t(this).addClass("btn--loading")}),t("body").on("change",'textarea[name="note"]',function(){var e=t(this).val();theme.cart.updateNote(e)}),t("body").on("click",".cart__checkout--ajax",function(e){if(!t("#CartAgree").is(":checked"))return alert(theme.strings.cartTermsConfirmation),t(this).removeClass("btn--loading"),!1}),t("body").on("click",".cart__checkout--page",function(e){if(!t("#CartPageAgree").is(":checked"))return alert(theme.strings.cartTermsConfirmation),t(this).removeClass("btn--loading"),!1})}),theme.AjaxCart=function(){function e(e){this.id=e;var i=this.$container=t("#"+e);this.status={loaded:!1,loading:!1,isDrawer:i.attr("data-drawer")},this.status.isDrawer&&(this.drawer=new theme.Drawers(e,"cart")),this.init(),this.initEventListeners()}var i={itemId:"data-cart-item-id"},n={form:"form.cart",cartCount:".cart-link__count",updateBtn:".update-cart",itemList:"[data-cart-item-list]",item:"[data-cart-item]",itemId:"[data-cart-item-id]",itemHref:"[data-cart-item-href]",itemBackgroundImage:"[data-cart-item-background-image]",itemTitle:"[data-cart-item-title]",itemVariantTitle:"[data-cart-item-variant-title]",itemPropertyList:"[data-cart-item-property-list]",itemProperty:"[data-cart-item-property]",itemDiscountList:"[data-cart-item-discount-list]",itemDiscount:"[data-cart-item-discount]",itemDiscountTitle:"[data-cart-item-discount-title]",itemDiscountAmount:"[data-cart-item-discount-amount]",itemLabelQuantity:"[data-cart-item-label-quantity]",itemInputQuantity:"[data-cart-item-input-quantity]",itemDelete:"[data-cart-item-delete]",itemPriceContainer:"[data-cart-item-price-container]",itemLinePriceContainer:"[data-cart-item-line-price-container]",itemUnitPrice:"[data-cart-item-unit-price]",itemMessage:"[data-item-message]",itemSubscriptionName:"[data-cart-item-subscription-name]",cartDiscountContainer:"[data-cart-discount-container]",cartDiscountContent:"[data-cart-discount-content]",cartDiscount:"[data-cart-discount]",cartDiscountTitle:"[data-cart-discount-title]",cartDiscountAmount:"[data-cart-discount-amount]",cartNoteContainer:"[data-cart-note-container]",cartNoteInput:"[data-cart-note]",cartMessage:"[data-cart-message]",cartSubtotal:"[data-cart-subtotal]",cartSubmit:"[data-cart-submit]"},o={cartHasItems:"cart-has-items",cartTemplate:"ajax-cart__template",cartItemRemove:"cart__item--remove",staticDrawerElement:"drawer--cart--static"};return e.prototype=t.extend({},e.prototype,{init:function(){this.$form=t(n.form,this.$container),t(n.updateBtn,this.$form).addClass("hide"),this.$itemTemplate=t(n.item,this.$form).first().clone(),this.$propertyTemplate=t(n.itemProperty,this.$form).first().clone(),this.$discountTemplate=t(n.itemDiscount,this.$form).first().clone(),this.$cartDiscountTemplate=t(n.cartDiscount,this.$container).first().clone()},initEventListeners:function(){t("body").on("updateCart",function(t,e){theme.cart.getCart().then(function(t){this.buildCart(t),this.updateCartNotification(t);var e=!1;this.status.isDrawer&&(this.drawer.open(),e=!0)}.bind(this))}.bind(this)),this.$container.on("click",n.itemDelete,this._onItemDelete.bind(this)),this.$container.on("input",n.itemInputQuantity,t.debounce(500,this._onItemQuantityChange.bind(this))),this.$container.on("blur",n.itemInputQuantity,this._onItemQuantityEmptyBlur.bind(this)),this.$container.on("focus",n.itemInputQuantity,this._highlightText)},buildCart:function(t,e){if(this.loading(!0),this.$form.removeClass("cart--empty"),0===t.item_count)return this.$form.addClass("cart--empty"),this.status.loaded=!0,void this.loading(!1);t.items.length>2?this.$container.removeClass(o.staticDrawerElement):this.$container.addClass(o.staticDrawerElement);var i=this._createCart(t);morphdom(this.$form[0],i[0]),Shopify&&Shopify.StorefrontExpressButtons&&Shopify.StorefrontExpressButtons.initialize(),this.status.isDrawer&&e===!0&&this.drawer.open(),this.status.loaded=!0,this.loading(!1),document.dispatchEvent(new CustomEvent("cart:updated",{detail:{cart:t}}))},_createCart:function(e){var i=this.$form.clone();return t(n.item,i).not(n.cartNoteContainer).remove(),t(n.itemList,i).prepend(this._createItemList(e)),t(n.cartNoteInput,i).val(e.note),t(n.cartDiscountContainer,i).toggleClass("hide",0===e.cart_level_discount_applications.length),t(n.cartDiscountContent,i).html(this._createCartDiscountList(e)),t(n.cartSubtotal,i).html(theme.Currency.formatMoney(e.total_price,theme.settings.moneyFormat)),t(n.cartSubmit,i).attr("disabled",0===e.items.length),i},_createItemList:function(e){return t.map(e.items,function(e){var a=this.$itemTemplate.clone().removeClass(o.cartTemplate),s=this._createPropertyList(e),r=this._createDiscountList(e),c=this._createUnitPrice(e),d=this._createItemPrice(e.original_price,e.final_price),l=this._createItemPrice(e.original_line_price,e.final_line_price);a.find(n.itemId).addBack(n.itemId).attr(i.itemId,e.key),t(n.itemHref,a).attr("href",e.url),t(n.itemBackgroundImage,a).removeAttr("data-bgset").css("background-image",e.image?"url("+theme.Images.getSizedImageUrl(e.image,"200x")+")":"none").addClass("lazyload"),t(n.itemTitle,a).text(e.product_title),t(n.itemVariantTitle,a).text(e.variant_title),t(n.itemPriceContainer,a).html(d),t(n.itemLinePriceContainer,a).html(l),t(n.itemLinePrice,a).html(theme.Currency.formatMoney(e.line_price,theme.settings.moneyFormat)),t(n.itemLabelQuantity,a).attr("for","quantity_"+e.key),t(n.itemInputQuantity,a).attr("data-id",e.key).attr("id","quantity_"+e.key).val(e.quantity);var h=e.selling_plan_allocation?e.selling_plan_allocation.selling_plan.name:null;return t(n.itemSubscriptionName,a).text(h),t(n.itemPropertyList,a).html(s),t(n.itemDiscountList,a).html(r),t(n.itemUnitPrice,a).html(c),a[0]}.bind(this))},_createItemPrice:function(t,e){return t!==e?'<span class="visually-hidden">'+theme.strings.regularPrice+'</span><del class="cart__item-price--original">'+theme.Currency.formatMoney(t,theme.settings.moneyFormat)+'</del><span class="visually-hidden">'+theme.strings.salePrice+'</span><span class="cart__item-price cart__item-price--bold">'+theme.Currency.formatMoney(e,theme.settings.moneyFormat)+"</span>":'<span class="cart__item-price">'+theme.Currency.formatMoney(t,theme.settings.moneyFormat)+"</span>"},_createPropertyList:function(e){return t.map(e.properties,function(t,e){var i=this.$propertyTemplate.clone().removeClass(o.cartTemplate);if("_"!==e.charAt(0)&&""!==t)return t.indexOf("/uploads/")===-1?i.text(e+": "+t):i.html(e+': <a href="'+t+'">'+t.split("/").pop()+"</a>"),i[0]}.bind(this))},_createDiscountList:function(e){return t.map(e.line_level_discount_allocations,function(t){var e=this.$discountTemplate.clone().removeClass(o.cartTemplate);return e.find(n.itemDiscountTitle).text(t.discount_application.title),e.find(n.itemDiscountAmount).html(theme.Currency.formatMoney(t.amount,theme.settings.moneyFormat)),e[0]}.bind(this))},_createCartDiscountList:function(e){return t.map(e.cart_level_discount_applications,function(t){var e=this.$cartDiscountTemplate.clone().removeClass(o.cartTemplate);return e.find(n.cartDiscountTitle).text(t.title),e.find(n.cartDiscountAmount).html(theme.Currency.formatMoney(t.total_allocated_amount,theme.settings.moneyFormat)),e[0]}.bind(this))},_createUnitPrice:function(t){var e=theme.Currency.formatMoney(t.unit_price,theme.settings.moneyFormat),i=theme.Currency.getBaseUnit(t);return e+"/"+i},_onItemQuantityChange:function(e){this.loading(!0);var o=t(e.target),a=o.closest(n.item).attr(i.itemId),s=o.val();if(""!==s){if(0==s){var r=confirm(theme.strings.cartConfirmDelete);if(r===!1)return o.val(1),void this.loading(!1)}theme.cart.changeItem(a,s)}},_onItemQuantityEmptyBlur:function(e){var o=t(e.target),a=(o.closest(n.item).attr(i.itemId),o.val());""===a&&theme.cart.getCart().then(function(t){this.buildCart(t)}.bind(this))},_onItemDelete:function(e){e.preventDefault();var a=t(e.target),s=t(n.item,this.$container),r=a.closest(n.item),c=t(n.cartNoteContainer,this.$container),d=r.attr(i.itemId);2===s.length&&s.last().is(c)&&(c.addClass(o.cartItemRemove),theme.a11y.promiseTransitionEnd(t(n.itemList,this.$container)).then(function(){c.removeClass(o.cartItemRemove)})),r.addClass(o.cartItemRemove),theme.a11y.promiseAnimationEnd(r).then(function(){theme.cart.changeItem(d,0)}.bind(this))},loading:function(e){this.status.loading=e,e?t(n.itemList,this.$form).addClass("loading"):t(n.itemList,this.$form).removeClass("loading")},updateCartNotification:function(e){t(n.cartCount).text(e.item_count),t("body").toggleClass(o.cartHasItems,e.item_count>0)},_highlightText:function(e){theme.config.isTouch||t(e.target).select()}}),e}(),theme.StickyCart=function(){function e(){this.status={loaded:!1,loading:!1,open:t("body").hasClass(o.activeBodyClass)},this.initEventListeners()}function i(e){t("body").hasClass(o.cartTemplate)||(e.item_count>0?(t("body").addClass(o.activeBodyClass),t(n.cart).addClass(o.active)):(t("body").removeClass(o.activeBodyClass),t(n.cart).removeClass(o.active)),t(n.items).text(theme.strings.cartItems.replace("[count]",e.item_count)),t(n.subtotal).html(theme.Currency.formatMoney(e.total_price,theme.settings.moneyFormat)))}var n={cart:"#StickyCart",items:"#StickyItems",subtotal:"#StickySubtotal",submit:"#StickySubmit"},o={cartTemplate:"template-cart",active:"sticky-cart--open",activeBodyClass:"body--sticky-cart-open"};return e.prototype=t.extend({},e.prototype,{initEventListeners:function(){t(n.submit).on("click",function(){t(this).addClass("btn--loading")}),t("body").on("added.ajaxProduct",function(){this.hideCart(),theme.cart.getCart().then(function(t){this.buildCart(t,!0)}.bind(this))}.bind(this))},hideCart:function(){t("body").removeClass(o.activeBodyClass),t(n.cart).removeClass(o.active)},showCart:function(e,i){e&&t(n.items).text(theme.strings.cartItems.replace("[count]",e)),i&&t(n.subtotal).html(theme.Currency.formatMoney(i,theme.settings.moneyFormat)),t("body").addClass(o.activeBodyClass),t(n.cart).addClass(o.active),this.status.open=!0},buildCart:function(t,e){this.loading(!0),this.status.loaded=!0,this.loading(!1),e===!0&&this.showCart(t.item_count,t.total_price)},loading:function(e){this.status.loading=e,e?t(n.cart).addClass("is-loading"):t(n.cart).removeClass("is-loading")},updateError:function(t){t.responseJSON&&t.responseJSON.description&&console.warn(t.responseJSON.description)}}),{init:e,refresh:i}}(),theme.AjaxProduct=function(){function e(t){this.$form=t,this.$addToCart=this.$form.find(".add-to-cart"),this.productId=t.find('[name="data-product-id"]').val(),this.$form.length&&this.$form.on("submit",this.addItemFromForm.bind(this))}var i={loading:!1};return e.prototype=t.extend({},e.prototype,{addItemFromForm:function(e,n){if(e.preventDefault(),!i.loading){this.$form.find("[data-add-to-cart]").addClass("btn--loading"),i.loading=!0;var o=this.$form.serialize();t("body").trigger("added.ProductScreen-"+this.productId),
theme.cart.addItemFromForm(o).then(function(t){this.success(t)}.bind(this)).catch(function(t){this.error(t)}.bind(this)).always(function(){i.loading=!1,this.$form.find("[data-add-to-cart]").removeClass("btn--loading")}.bind(this))}},success:function(e){this.$form.find(".errors").remove(),t("body").trigger("added.ajaxProduct"),document.dispatchEvent(new CustomEvent("added:ajaxProduct",{detail:{product:e}}))},error:function(e){this.$form.find(".errors").remove(),e.responseJSON&&e.responseJSON.description&&(console.warn(e.responseJSON.description),t("body").trigger("error.ProductScreen-"+this.productId),document.dispatchEvent(new CustomEvent("error:ajaxProduct",{detail:{errorMessage:e.responseJSON.description}})),this.$form.prepend('<div class="errors text-center">'+e.responseJSON.description+"</div>"))}}),e}(),theme.collapsibles=function(){function e(){t(n.trigger).each(function(){var e=t(this),i=e.hasClass(o.open);e.attr("aria-expanded",i)}),t("body").off(a).on("click"+a,n.trigger,function(){if(!s){s=!0;var e=t(this),a=e.hasClass(o.open),r=e.hasClass(o.tabs),c=e.attr("aria-controls"),d=t("#"+c),l=d.find(n.moduleInner).outerHeight(),h=e.hasClass(o.autoHeight);if(r){if(a)return void(s=!1);var u;t(n.tabs+"[data-id="+e.data("id")+"]").each(function(){t(this).removeClass(o.open),u=t("#"+t(this).attr("aria-controls")),i(u,0,!0)})}a&&h&&setTimeout(function(){l=0,i(d,l,a,h)},0),a&&!h&&(l=0),e.attr("aria-expanded",!a).toggleClass(o.open,!a),i(d,l,a,h)}})}function i(t,e,i,n){if(t.removeClass(o.hide).prepareTransition().css("height",e).toggleClass(o.open,!i),!i&&n){var a=t;window.setTimeout(function(){a.css("height","auto"),s=!1},0)}else s=!1}var n={trigger:".collapsible-trigger",module:".collapsible-content",moduleInner:".collapsible-content__inner",tabs:".collapsible-trigger--tab"},o={hide:"hide",open:"is-open",autoHeight:"collapsible--auto-height",tabs:"collapsible-trigger--tab"},a=".collapsible",s=!1;return{init:e}}(),theme.headerNav=function(){function e(){f=t(window),g=t(S.navContainerWithLogo),v=t(S.logoContainer),y=t(S.navigation),b=t(S.wrapper),w=t(S.siteHeader),$.overlayHeader=theme.settings.overlayHeader=w.data("overlay"),$.stickyActive=!1,r();new theme.Modals("SearchModal","search-modal",{closeOffContentClick:!1,focusOnOpen:"#SearchModalInput"});f.on("resize"+$.namespace,t.debounce(150,n)).on("load"+$.namespace,i),o(),f.on("scroll"+$.namespace,t.throttle(150,h)),Shopify.designMode&&f.trigger("resize")}function i(){s(),l(),"bar"===$.headerStyle&&c()}function n(){s(),o(),"bar"===$.headerStyle&&d()}function o(){theme.config.bpSmall?$.headerStyle="button":$.headerStyle=b.data("header-style"),$.stickyThreshold="button"===$.headerStyle?100:250,"button"!==$.headerStyle&&u(!1)}function a(){t(window).off($.namespace),t(S.navLinks).off($.namespace),t(S.navDropdownLinks).off($.namespace)}function s(){t(S.logo).each(function(){var e=t(this),i=e.width(),n=e.closest(".grid__item").width();i>n?e.css("maxWidth",n):e.removeAttr("style")})}function r(){function e(e){var i=e.parent();if(i.hasClass(C.hasDropdownClass)&&(i.addClass(C.dropdownActive),s=!0),!theme.config.isTouch&&!c){var o=theme.config.isTouch?"touchend":"click";c=!0,t("body").on(o+$.namespace,function(){n(),t("body").off($.namespace),c=!1})}}function i(t,e){var i=t.parent();(i.hasClass(C.hasSubDropdownClass)||e)&&(i.addClass(C.dropdownActive),r=!0)}function n(){o(),a()}function o(){t(S.navItems).removeClass(C.dropdownActive)}function a(){t(S.navDropdownLinks).parent().removeClass(C.dropdownActive)}var s=!1,r=!1,c=!1;theme.config.isTouch&&(t(S.navLinksWithDropdown).on("touchend"+$.namespace,function(i){var o=t(this),a=o.parent();a.hasClass(C.dropdownActive)?window.location.replace(o.attr("href")):(i.preventDefault(),n(),e(o))}),t(S.navDropdownLinks).on("touchend"+$.namespace,function(e){var n=t(this),o=n.parent();o.hasClass(C.hasSubDropdownClass)?o.hasClass(C.dropdownActive)?window.location.replace(n.attr("href")):(e.preventDefault(),a(),i(n)):window.location.replace(n.attr("href"))})),t(S.navLinks).on("focusin mouseover"+$.namespace,function(){s&&o(),r&&a(),e(t(this))}),t(S.navLinks).on("mouseleave"+$.namespace,function(){n()}),t(S.navDropdownLinks).on("focusin"+$.namespace,function(){a(),i(t(this),!0)})}function c(){w.wrap('<div class="site-header-sticky"></div>'),$.overlayHeader||(d(),setTimeout(function(){d(),0===t(".site-header-sticky").outerHeight()&&setTimeout(function(){f.trigger("resize")},500)},200))}function d(){t(".site-header-sticky").css("height",w.outerHeight(!0))}function l(){t("body").hasClass(C.stickyCartActive)||theme.config.bpSmall&&"product"!==theme.template&&setTimeout(function(){$.forceStickyOnMobile=!0,u(!0)},25)}function h(t){var e=f.scrollTop();if(e>$.stickyThreshold){if($.forceStickyOnMobile&&($.forceStickyOnMobile=!1),$.stickyActive)return;"button"===$.headerStyle?u(!0):"bar"===$.headerStyle&&m(!0)}else{if($.forceStickyOnMobile)return;if(!$.stickyActive)return;"button"===$.headerStyle?theme.config.bpSmall||u(!1):"bar"===$.headerStyle&&m(!1),$.overlayHeader||d()}}function u(e,i){$.forceCloseThumbNav||t(".slide-nav__overflow--thumb").hasClass("js-menu--is-open")||(t(S.thumbMenu).toggleClass(C.thumbMenuInactive,!e),$.stickyActive=e,$.forceCloseThumbNav=i)}function m(t){"bar"===$.headerStyle&&(t?(w.addClass(C.stickyClass),$.overlayHeader&&b.removeClass(C.overlayedClass).addClass(C.overlayStickyClass),setTimeout(function(){w.addClass(C.openTransitionClass)},100)):(w.removeClass(C.openTransitionClass).removeClass(C.stickyClass),$.overlayHeader&&b.addClass(C.overlayedClass).removeClass(C.overlayStickyClass)),$.stickyActive=t)}function p(){t(S.wrapper).removeClass(C.overlayEnabledClass).removeClass(C.overlayedClass),$.overlayHeader=theme.settings.overlayHeader=!1}var f,g,v,y,b,w,S={wrapper:".header-wrapper",siteHeader:".site-header",logoContainer:".site-header__logo",logo:".site-header__logo img",navigation:".site-navigation",navContainerWithLogo:".header-item--logo",navItems:".site-nav__item",navLinks:".site-nav__link",navLinksWithDropdown:".site-nav__link--has-dropdown",navDropdownLinks:".site-nav__dropdown-link--second-level",thumbMenu:".site-nav__thumb-menu"},C={hasDropdownClass:"site-nav--has-dropdown",hasSubDropdownClass:"site-nav__deep-dropdown-trigger",dropdownActive:"is-focused",stickyCartActive:"body--sticky-cart-open",overlayEnabledClass:"header-wrapper--overlay",overlayedClass:"is-light",thumbMenuInactive:"site-nav__thumb-menu--inactive",stickyClass:"site-header--sticky",overlayStickyClass:"header-wrapper--sticky",openTransitionClass:"site-header--opening"},$={namespace:".siteNav",overlayHeader:!1,stickyActive:!1,forceStickyOnMobile:!1,forceCloseThumbNav:!1};return{init:e,disableOverlayHeader:p,toggleThumbMenu:u,unload:a}}(),theme.slideNav=function(){function e(){t(h.thumbNavToggle).length&&(p=!1),t(h.toggleBtn).on("click"+m,i),t(h.subNavToggleBtn).on("click"+m,a)}function i(){t(h.toggleBtn).hasClass(u.isActive)?o():n()}function n(){t(h.toggleBtn).addClass(u.isActive),t(h.navWrapper).prepareTransition().addClass(u.isOpen),p&&t(h.container).css({transform:"translate3d(0, "+t(h.navWrapper).height()+"px, 0)"}),t(h.navWrapper).attr("tabindex","-1").focus(),t(window).on("keyup"+m,function(t){27===t.which&&o()})}function o(){t(h.toggleBtn).removeClass(u.isActive),t(h.navWrapper).prepareTransition().removeClass(u.isOpen),p&&t(h.container).removeAttr("style"),t(h.toggleBtn).focus(),t(window).off("keyup"+m)}function a(e){if(!c){var i=t(e.currentTarget),n=i.hasClass(u.return);c=!0,n?(t(u.toggleBtn+'[data-level="'+(f-1)+'"]').removeClass(u.isActive),t('.slide-nav__dropdown[data-level="'+f+'"]').prepareTransition().removeClass(u.isActive),l&&l.length&&l.removeClass(u.isActive)):(i.addClass(u.isActive),i.next(".slide-nav__dropdown").prepareTransition().addClass(u.isActive)),l=i,s(i.data("target"))}}function s(e){var i=t(e?'.slide-nav__dropdown[data-parent="'+e+'"]':h.nav);f=i.data("level")?i.data("level"):1,d=i;var n=(e?i.find("."+u.subNavLink+":first"):l,i.outerHeight()),o=f>2?u.thirdNavShowing:u.subNavShowing;t(h.navWrapper).css("height",n).removeClass(u.thirdNavShowing).addClass(o),e||t(h.navWrapper).removeClass(u.thirdNavShowing).removeClass(u.subNavShowing),c=!1,p&&t(h.container).css({transform:"translate3d(0, "+n+"px, 0)"})}function r(){t(window).off(m),t(h.toggleBtn).off(m),t(h.subNavToggleBtn).off(m)}var c,d,l,h={container:"#PageContainer",navWrapper:".slide-nav__overflow",nav:"#SlideNav",toggleBtn:".js-toggle-slide-nav",subNavToggleBtn:".js-toggle-submenu",thumbNavToggle:".site-nav__thumb-button"},u={subNavLink:"slide-nav__sublist-link",return:"slide-nav__return-btn",isActive:"is-active",isOpen:"js-menu--is-open",subNavShowing:"sub-nav--is-open",thirdNavShowing:"third-nav--is-open"},m=".slideNav",p=!0,f=1;return{init:e,unload:r}}(),theme.articleImages=function(){function e(){n.$rteImages=t(".rte--indented-images"),n.$rteImages.length&&t(window).on("load",i)}function i(){n.$rteImages.find("img").each(function(){var e=t(this),i=e.attr("style");i&&"float: none;"!=i||e.width()<n.$rteImages.width()&&e.addClass("rte__no-indent")})}var n={};return{init:e}}(),theme.Slideshow=function(){function e(e,n){this.$slideshow=t(e),this.$wrapper=this.$slideshow.closest("."+i.wrapper),this.$pause=this.$wrapper.find("."+i.pauseButton),this.settings={accessibility:!0,arrows:!!n.arrows,dots:!!n.dots,draggable:!0,touchThreshold:8,speed:300,pauseOnHover:!!n.pauseOnHover,rtl:theme.config.rtl,autoplay:this.$slideshow.data("autoplay"),autoplaySpeed:this.$slideshow.data("speed")},this.$slideshow.on("init",this.init.bind(this)),t(".root").find(this.$slideshow).length&&t("body").on("productModalClose",function(){this.$slideshow.addClass("slideshow-refresh"),this.$slideshow.slick("refresh")}.bind(this)),this.$slideshow.slick(this.settings),this.$pause.on("click",this._togglePause.bind(this))}this.$slideshow=null;var i={next:"is-next",init:"is-init",wrapper:"slideshow-wrapper",slideshow:"slideshow",currentSlide:"slick-current",pauseButton:"slideshow__pause",isPaused:"is-paused"};return e.prototype=t.extend({},e.prototype,{init:function(t,e){this.$slideshowList=e.$list,this.$slickDots=e.$dots,this.$allSlides=e.$slides,this.slideCount=e.slideCount,this.$slideshow.addClass(i.init),this._a11y(),this._clonedLazyloading(),setTimeout(function(){this.$slideshow.slick("setPosition")}.bind(this),50)},destroy:function(){this.$slideshow.slick("unslick")},_play:function(){this.$slideshow.slick("slickPause"),t(i.pauseButton).addClass("is-paused")},_pause:function(){this.$slideshow.slick("slickPlay"),t(i.pauseButton).removeClass("is-paused")},_togglePause:function(){var e=this._getSlideshowId(this.$pause);this.$pause.hasClass(i.isPaused)?(this.$pause.removeClass(i.isPaused),t(e).slick("slickPlay")):(this.$pause.addClass(i.isPaused),t(e).slick("slickPause"))},_getSlideshowId:function(t){return"#Slideshow-"+t.data("id")},_activeSlide:function(){return this.$slideshow.find(".slick-active")},_currentSlide:function(){return this.$slideshow.find(".slick-current")},_nextSlide:function(t){return this.$slideshow.find('.slideshow__slide[data-slick-index="'+t+'"]')},_a11y:function(){var e=this.$slideshowList,n=this.settings.autoplay;e&&(e.removeAttr("aria-live"),t(i.wrapper).on("focusin",function(o){t(i.wrapper).has(o.target).length&&(e.attr("aria-live","polite"),n&&this._pause())}.bind(this)),t(i.wrapper).on("focusout",function(o){t(i.wrapper).has(o.target).length&&(e.removeAttr("aria-live"),n&&this._play())}.bind(this)))},_clonedLazyloading:function(){var e=this.$slideshow;e.find(".slick-slide").each(function(i,n){var o=t(n);if(o.hasClass("slick-cloned")){var a=o.data("id"),s=o.find(".hero__image").removeClass("lazyloading").addClass("lazyloaded");setTimeout(function(){var t=e.find(".slideshow__slide--"+a+":not(.slick-cloned) .hero__image").attr("style");t&&s.attr("style",t)},this.settings.autoplaySpeed/1.5)}}.bind(this))}}),e}(),theme.QuickShopScreens=function(){function e(t){if(theme.settings.quickView){var e=o();s(e),i()}}function i(){Shopify.designMode||(t(window).on("newPopstate",function(t,e){m=e.screen,e.back&&(u=location.pathname,h=l,history.pushState({},"",l)),e.url&&e.updateCurrentPath&&(u=location.pathname,h=e.url,history.pushState({},"",e.url))}),t(window).on("popstate",function(e){var i=!1;if(u=h,location.pathname!==h){if(u=h,h=location.pathname,location.pathname===l)return void(m&&m.isOpen&&n(m));if(location.pathname.indexOf("/products/")!==-1)return void(m?m.open():t('.quick-product__btn[href="'+location.pathname+'"]').first().trigger("click",{updateCurrentPath:!1}));if(e.originalEvent.state){if(m&&m.isOpen)return n(m),void history.replaceState({},"",l);i=!0}else if(m){if(m.isOpen)return void n(m)}else i=!0;i&&(window.location.href=location.href)}}.bind(this)))}function n(e){e.close(),m=null,t(window).trigger("resize")}function o(e){var i=[],n=e?t(p.trigger,e):t(p.trigger);return n.each(function(){var e=t(this).data("product-id");return i.indexOf(e)>-1?void t('.screen-layer--product[data-product-id="'+e+'"]').slice(1).remove():void i.push(e)}),i}function a(e){var i=[];return e.each(function(){var e=t(this).data("product-id");i.push(e)}),i}function s(e){for(var i,n,o=[],a=0;a<e.length;a++)f.indexOf(e[a])===-1&&(i="ProductScreen-"+e[a],n=t("#"+i),o.push(n),f.push(e[a]),new theme.ProductScreen(i,"product-"+e[a]));t(p.screensWrap).append(o)}function r(e){if(theme.settings.quickView){for(var i=[],n=o(e),s=t(p.trigger).not(t(p.trigger,e)),r=a(s),c=0;c<n.length;c++){var d=n[c];r.indexOf(d)===-1&&i.push(d)}for(var c=0;c<i.length;c++)sections._removeInstance(i[c])}}function c(e){if(theme.settings.quickView){var i=o(e);s(i),d(i,e),sections.register("product-template",theme.Product,t("#ProductScreens"))}}function d(e,i){for(var n=0;n<e.length;n++)t('.screen-layer--product[data-product-id="'+e[n]+'"]',i).remove()}var l=window.location.pathname,h=l,u=null,m=null;"scrollRestoration"in history&&(history.scrollRestoration="manual");var p={screensWrap:"#ProductScreens",screens:"[data-product-id]",trigger:".quick-product__btn"},f=[];return{init:e,unload:r,reInit:c}}(),theme.HoverProductGrid=function(){function e(t){this.$container=t,this.sectionId=this.$container.attr("data-section-id"),this.namespace=".product-image-slider-"+this.sectionId,this.activeIds=[],theme.settings.hoverProductGrid&&(this.$products=t.find(i.product),this.slidersMobile=t.data("product-sliders-mobile"),0!==this.$products.length&&theme.utils.promiseStylesheet().then(function(){this.init()}.bind(this)))}var i={product:".grid-product",slider:".product-slider"};return e.prototype=t.extend({},e.prototype,{init:function(){this.destroyAllSliders(),this.setupEventType(),this.listnerSetup()},setupEventType:function(){this.$products.off("mouseenter mouseout"),t(window).off("scroll"+this.namespace),theme.config.bpSmall?this.slidersMobile&&(t(window).on("scroll"+this.namespace,t.throttle(120,this.inViewSliderInit.bind(this))),t(window).trigger("scroll"+this.namespace)):this.mouseSliderInit()},listnerSetup:function(){t("body").on("matchSmall matchLarge",function(){this.destroyAllSliders(),this.setupEventType()}.bind(this))},inViewSliderInit:function(){this.$products.find(i.slider).each(function(e,i){theme.isElementVisible(t(i),-400)?this.initSlider(t(i)):this.destroySlider(t(i))}.bind(this))},mouseSliderInit:function(){this.$products.on("mouseenter",function(e){var n=t(e.currentTarget).find(i.slider);this.initSlider(n)}.bind(this)),this.$products.on("mouseleave",function(e){var n=t(e.currentTarget).find(i.slider);this.destroySlider(n)}.bind(this))},initSlider:function(t){t.data("image-count")<2||this.activeIds.indexOf(t.data("id"))===-1&&(this.activeIds.push(t.data("id")),t.addClass("product-slider--init").slick({autoplay:!0,infinite:!0,arrows:!1,speed:300,fade:!0,pauseOnHover:!1,autoplaySpeed:1050}))},destroySlider:function(t){if(!(t.data("image-count")<2)){var e=this.activeIds.indexOf(t.data("id"));e!==-1&&(this.activeIds.splice(e,1),t.slick("unslick"))}},destroyAllSliders:function(){this.$products.find(i.slider).each(function(e,i){this.destroySlider(t(i))}.bind(this))}}),e}(),theme.videoModal=function(e){function i(e){r(),e.preventDefault(),theme.LibraryLoader.load("youtubeSdk"),theme.config.youTubeReady?o(e):t("body").on("youTubeReady",function(){o(e)})}function n(e){r();var i=t(e.currentTarget),n=i.next(u.mp4Player);n.clone().removeClass("hide").appendTo(u.videoHolder),m.open(e),t(u.videoHolder).find("video")[0].play(),h="mp4"}function o(e){var i=t(e.currentTarget),n=s(i.attr("href")),o=t.extend({},d,{videoId:n});o.playerVars.playsinline=theme.config.bpSmall?0:1,c=new YT.Player(l,o),m.open(e),h="youtube"}function a(t){t.target.playVideo()}function s(t){var e=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,i=t.match(e);return!(!i||11!=i[7].length)&&i[7]}function r(){t(u.videoHolder).empty()}var c=null,d={width:1280,height:720,playerVars:{autohide:0,autoplay:1,branding:0,cc_load_policy:0,fs:0,iv_load_policy:3,modestbranding:1,playsinline:1,quality:"hd720",rel:0,showinfo:0,wmode:"opaque"},events:{onReady:a}},l="VideoHolder",h=!1,u={videoHolder:"#"+l,youtube:'a[href*="youtube.com/watch"], a[href*="youtu.be/"]',mp4Trigger:".product-video-trigger--mp4",mp4Player:".product-video-mp4-sound"};if(t(u.youtube).length||t(u.mp4Trigger).length){var m=new theme.Modals("VideoModal","video-modal",{closeOffContentClick:!0,solid:!0});e&&(t(u.youtube).off("click"),t(u.mp4Trigger).off("click")),t(u.youtube).on("click",i),t(u.mp4Trigger).on("click",n),e&&t("body").off("modalClose.VideoModal"),t("body").on("modalClose.VideoModal",function(){c&&"youtube"===h?setTimeout(function(){c.destroy()},500):r()})}},theme.Disclosure=function(){function e(t){this.$container=t,this.cache={},this._cacheSelectors(),this._connectOptions(),this._connectToggle(),this._onFocusOut()}var i={disclosureList:"[data-disclosure-list]",disclosureToggle:"[data-disclosure-toggle]",disclosureInput:"[data-disclosure-input]",disclosureOptions:"[data-disclosure-option]"},n={listVisible:"disclosure-list--visible"};return e.prototype=t.extend({},e.prototype,{_cacheSelectors:function(){this.cache={$disclosureList:this.$container.find(i.disclosureList),$disclosureToggle:this.$container.find(i.disclosureToggle),$disclosureInput:this.$container.find(i.disclosureInput),$disclosureOptions:this.$container.find(i.disclosureOptions)}},_connectToggle:function(){this.cache.$disclosureToggle.on("click",function(e){var i="true"===t(e.currentTarget).attr("aria-expanded");t(e.currentTarget).attr("aria-expanded",!i),this.cache.$disclosureList.toggleClass(n.listVisible)}.bind(this))},_connectOptions:function(){this.cache.$disclosureOptions.on("click",function(e){e.preventDefault(),this._submitForm(t(e.currentTarget).data("value"))}.bind(this))},_onFocusOut:function(){this.cache.$disclosureToggle.on("focusout",function(t){var e=0===this.$container.has(t.relatedTarget).length;e&&this._hideList()}.bind(this)),this.cache.$disclosureList.on("focusout",function(e){var i=t(e.currentTarget).has(e.relatedTarget).length>0,o=this.cache.$disclosureList.hasClass(n.listVisible);o&&!i&&this._hideList()}.bind(this)),this.$container.on("keyup",function(t){27===t.which&&(this._hideList(),this.cache.$disclosureToggle.focus())}.bind(this)),t("body").on("click",function(t){var e=this.$container.has(t.target).length>0,i=this.cache.$disclosureList.hasClass(n.listVisible);i&&!e&&this._hideList()}.bind(this))},_submitForm:function(e){t("body").addClass("unloading"),this.cache.$disclosureInput.val(e),this.$container.parents("form").submit()},_hideList:function(){this.cache.$disclosureList.removeClass(n.listVisible),this.cache.$disclosureToggle.attr("aria-expanded",!1)},unload:function(){this.cache.$disclosureOptions.off(),this.cache.$disclosureToggle.off(),this.cache.$disclosureList.off(),this.$container.off()}}),e}(),theme.ProductMedia=function(){function e(e,o){s[o]={loaded:!1},e.each(function(e){var i=t(this),n=i.data("media-id"),a=t(i.find("model-viewer")[0]),s=a.data("model-id");if(0===e){var l=i.closest(d.mediaGroup).find(d.xrButton);c[o]={$element:l,defaultId:s}}r[n]={modelId:s,sectionId:o,$container:i,$element:a}}),window.Shopify.loadFeatures([{name:"shopify-xr",version:"1.0",onLoad:i},{name:"model-viewer-ui",version:"1.0",onLoad:n}]),theme.LibraryLoader.load("modelViewerUiStyles")}function i(e){if(!e){if(!window.ShopifyXR)return void document.addEventListener("shopify_xr_initialized",function(){i()});for(var n in s)if(s.hasOwnProperty(n)){var o=s[n];if(o.loaded)continue;var a=t("#ModelJson-"+n);window.ShopifyXR.addModels(JSON.parse(a.html())),o.loaded=!0}window.ShopifyXR.setupXRElements()}}function n(t){if(!t)for(var e in r)if(r.hasOwnProperty(e)){var i=r[e];!i.modelViewerUi&&Shopify&&(i.modelViewerUi=new Shopify.ModelViewerUI(i.$element)),o(i)}}function o(t){var e=c[t.sectionId];t.$container.on("mediaVisible",function(){e.$element.attr("data-shopify-model3d-id",t.modelId),theme.config.isTouch||t.modelViewerUi.play()}),t.$container.on("mediaHidden",function(){e.$element.attr("data-shopify-model3d-id",e.defaultId),t.modelViewerUi.pause()}).on("xrLaunch",function(){t.modelViewerUi.pause()})}function a(t){for(var e in r)if(r.hasOwnProperty(e)){var i=r[e];i.sectionId===t&&delete r[e]}delete s[t]}var s={},r={},c={},d={mediaGroup:"[data-product-single-media-group]",xrButton:"[data-shopify-xr]"};return{init:e,removeSectionModels:a}}(),theme.customerTemplates=function(){function e(){t("#RecoverPassword").on("click",function(t){t.preventDefault(),i()}),t("#HideRecoverPasswordLink").on("click",function(t){t.preventDefault(),i()})}function i(){t("#RecoverPasswordForm").toggleClass("hide"),t("#CustomerLoginForm").toggleClass("hide")}function n(){var e=t(".reset-password-success");e.length&&t("#ResetSuccess").removeClass("hide")}function o(){var e=t("#AddressNewForm"),i=t(".js-address-form");e.length&&i.length&&(Shopify&&t(".js-address-country").each(function(){var e=t(this),i=e.data("country-id"),n=e.data("province-id"),o=e.data("province-container-id");Shopify&&new Shopify.CountryProvinceSelector(i,n,{hideElement:o})}),t(".address-new-toggle").on("click",function(){e.toggleClass("hide")}),t(".address-edit-toggle").on("click",function(){var e=t(this).data("form-id");t("#EditAddress_"+e).toggleClass("hide")}),t(".address-delete").on("click",function(){var e=t(this),i=e.data("form-id"),n=e.data("confirm-message");confirm(n||"Are you sure you wish to delete this address?")&&Shopify&&Shopify.postLink("/account/addresses/"+i,{parameters:{_method:"delete"}})}))}function a(){var t=window.location.hash;"#recover"===t&&i()}return{init:function(){a(),e(),n(),o()}}}(),theme.Product=function(){function e(e,n){var o=t("#"+n),a=o.attr("id");f[a]=e.target;f[a];r(o),"muted"===p[a].style&&f[a].mute(),c(o),(o.closest(m.startingSlide).length||1===o.data("image-count"))&&"muted"===p[a].style&&(f[a].playVideo(),i(a))}function i(e){e&&(n(e),t(window).on("scroll."+e,{id:e},t.throttle(150,n)))}function n(e){var i;if(e){if("string"==typeof e)i=e;else{if(!e.data)return;i=e.data.id}if(theme.isElementVisible(t("#"+i))){if(p[i]&&"unmuted"===p[i].style)return;o(i)}else a(i)}}function o(t){f[t]&&"function"==typeof f[t].playVideo&&f[t].playVideo()}function a(t){f[t]&&"function"==typeof f[t].pauseVideo&&f[t].pauseVideo()}function s(e,i){var n=t("#"+i),o=n.attr("id"),a=f[o];switch(e.data){case-1:p[o].attemptedToPlay&&(c(n),d(n));break;case 0:p[o]&&p[o].loop&&a.playVideo();break;case 1:c(n);break;case 3:p[o].attemptedToPlay=!0}}function r(t){t.closest(m.videoParent).addClass(u.loading)}function c(t){t.closest(m.videoParent).removeClass(u.loading).addClass(u.loaded)}function d(t){t.closest(m.videoParent).addClass(u.interactable)}function l(e){var i=this.$container=t(e),n=this.sectionId=i.attr("data-section-id");this.inModal=i.closest(".screen-layer").length,this.$modal,this.namespace=".product-"+n,this.namespaceImages=".product-image-"+n,this.settings={enableHistoryState:i.data("enable-history-state")||!1,namespace:".product-"+n,variantType:i.data("variant-type"),inventory:i.data("inventory")||!1,inventoryThreshold:i.data("inventory-threshold")||!1,incomingInventory:i.data("incoming-inventory")||!1,modalInit:!1,slickMainInitialized:!1,slickThumbInitialized:!1,hasImages:!0,hasVideos:i.find(m.productVideo).length||!1,videoStyle:i.data("video-style"),has3d:!1,hasMultipleImages:!1,imageSetName:null,imageSetIndex:null,currentImageSet:null,stackedImages:i.data("images-stacked")||!1,stackedCurrent:0,stackedImagePositions:[],imageSize:"620x",videoLooping:i.data("video-looping")},this.videos={},this.inModal&&(this.settings.enableHistoryState=!1,this.namespace=".product-"+n+"-modal",this.$modal=t("#ProductScreen-"+n)),this.init()}var h,u={onSale:"sale-price",disabled:"disabled",isModal:"is-modal",loading:"loading",loaded:"loaded",hidden:"hide",interactable:"video-interactable",visuallyHide:"visually-invisible",thumbActive:"thumb--current"},m={variantsJson:"[data-variant-json]",currentVariantJson:"[data-current-variant-json]",imageContainer:"[data-product-images]",mainSlider:"[data-product-photos]",thumbSlider:"[data-product-thumbs]",photo:"[data-product-photo]",photoThumbs:"[data-product-thumb]",photoThumbItem:"[data-product-thumb-item]",zoomButton:".product__photo-zoom",priceWrapper:"[data-price-wrapper]",price:"[data-product-price]",comparePrice:"[data-product-price-compare]",priceA11y:"[data-price-a11y]",comparePriceA11y:"[data-compare-a11y]",sku:"[data-sku]",inventory:"[data-product-inventory]",incomingInventory:"[data-product-incoming-inventory]",unitWrapper:"[data-product-unit-wrapper]",addToCart:"[data-add-to-cart]",addToCartText:"[data-add-to-cart-text]",originalSelectorId:"[data-product-select]",singleOptionSelector:"[data-variant-input]",variantColorSwatch:"[data-color-swatch]",productImageMain:".product-image-main",dotsContainer:".product__photo-dots",productVideo:"[data-product-video]",videoParent:".product__video-wrapper",currentSlide:".slick-current",startingSlide:".starting-slide",media:"[data-product-media-type-model]",closeMedia:".product-single__close-media",modalFormHolder:"#ProductFormPlaceholder-",formContainer:".product-single__form",availabilityContainer:"[data-store-availability]"},p={},f=[],g={height:"480",width:"850",playerVars:{autohide:0,autoplay:0,branding:0,cc_load_policy:0,controls:0,fs:0,iv_load_policy:3,modestbranding:1,playsinline:1,quality:"hd720",rel:0,showinfo:0,wmode:"opaque"}};return l.prototype=t.extend({},l.prototype,{init:function(){this.$mainSlider=t(m.mainSlider,this.$container),this.$thumbSlider=t(m.thumbSlider,this.$container),this.$firstProductImage=this.$mainSlider.find("img").first(),this.$formHolder=t(m.modalFormHolder+this.sectionId),this.$firstProductImage.length||(this.settings.hasImages=!1),this.settings.imageSetName=this.$mainSlider.find("[data-set-name]").data("set-name"),this.inModal&&(this.$container.addClass(u.isModal),t("body").off("productModalOpen.ProductScreen-"+this.sectionId).off("productModalClose.ProductScreen-"+this.sectionId),t("body").on("productModalOpen.ProductScreen-"+this.sectionId,this.openModalProduct.bind(this)),t("body").on("productModalClose.ProductScreen-"+this.sectionId,this.closeModalProduct.bind(this))),this.inModal||(this.formSetup(),this.preImageSetup(),this.checkIfVideos(),this.imageSetup(!0))},formSetup:function(){theme.settings.dynamicVariantsEnable&&(this.$variantSelectors=t(m.formContainer,this.$container).find(m.singleOptionSelector)),this.initAjaxProductForm(),this.availabilitySetup(),this.initVariants(),this.settings.imageSetName&&this.updateImageSet()},availabilitySetup:function(){var t=this.$container[0].querySelector(m.availabilityContainer);t&&(this.storeAvailability=new theme.StoreAvailability(t))},initVariants:function(){var e=t(m.variantsJson,this.$container);if(e.length){this.variantsObject=JSON.parse(e[0].innerHTML);var i={$container:this.$container,enableHistoryState:this.settings.enableHistoryState,singleOptionSelector:m.singleOptionSelector,originalSelectorId:m.originalSelectorId,variants:this.variantsObject};if(t(m.variantColorSwatch,this.$container).length&&t(m.variantColorSwatch,this.$container).on("change",function(e){var i=t(e.currentTarget),n=i.data("color-name"),o=i.data("color-index");this.updateColorName(n,o)}.bind(this)),this.variants=new theme.Variants(i),this.storeAvailability){var n=this.variants.currentVariant?this.variants.currentVariant.id:this.variants.variants[0].id;this.storeAvailability.updateContent(n),this.$container.on("variantChange"+this.settings.namespace,this.updateAvailability.bind(this))}this.$container.on("variantChange"+this.namespace,this.updateCartButton.bind(this)).on("variantImageChange"+this.namespace,this.updateVariantImage.bind(this)).on("variantPriceChange"+this.namespace,this.updatePrice.bind(this)).on("variantUnitPriceChange"+this.namespace,this.updateUnitPrice.bind(this)),t(m.sku,this.$container).length&&this.$container.on("variantSKUChange"+this.namespace,this.updateSku.bind(this)),(this.settings.inventory||this.settings.incomingInventory)&&this.$container.on("variantChange"+this.namespace,this.updateInventory.bind(this));var o=t(m.currentVariantJson,this.$container);theme.settings.dynamicVariantsEnable&&o.length&&(this.currentVariantObject=JSON.parse(o[0].innerHTML),this.$variantSelectors.on("change"+this.namespace,this.updateVariantAvailability.bind(this)),this.setCurrentVariantAvailability(this.currentVariantObject,!0)),this.settings.imageSetName&&(this.settings.imageSetIndex=t(m.formContainer,this.$container).find('.variant-input-wrap[data-handle="'+this.settings.imageSetName+'"]').data("index"),this.$container.on("variantChange"+this.settings.namespace,this.updateImageSet.bind(this)))}},initAjaxProductForm:function(){"drawer"!==theme.settings.cartType&&"sticky"!==theme.settings.cartType||new theme.AjaxProduct(t(m.formContainer,this.$container))},updateColorName:function(e,i){t("#VariantColorLabel-"+this.sectionId+"-"+i).text(e)},updateCartButton:function(e){var i=e.variant;if(i)if(i.available){t(m.addToCart,this.$container).removeClass(u.disabled).prop("disabled",!1);var n=t(m.addToCartText,this.$container).data("default-text");t(m.addToCartText,this.$container).html(n)}else t(m.addToCart,this.$container).addClass(u.disabled).prop("disabled",!0),t(m.addToCartText,this.$container).html(theme.strings.soldOut);else t(m.addToCart,this.$container).addClass(u.disabled).prop("disabled",!0),t(m.addToCartText,this.$container).html(theme.strings.unavailable)},updatePrice:function(e){var i=e.variant;i&&(t(m.price,this.$container).html(theme.Currency.formatMoney(i.price,theme.settings.moneyFormat)).show(),i.compare_at_price>i.price?(t(m.comparePrice,this.$container).html(theme.Currency.formatMoney(i.compare_at_price,theme.settings.moneyFormat)),t(m.priceWrapper,this.$container).removeClass("hide"),t(m.price,this.$container).addClass(u.onSale),t(m.comparePriceA11y,this.$container).attr("aria-hidden","false"),t(m.priceA11y,this.$container).attr("aria-hidden","false")):(t(m.priceWrapper,this.$container).addClass("hide"),t(m.price,this.$container).removeClass(u.onSale),t(m.comparePriceA11y,this.$container).attr("aria-hidden","true"),t(m.priceA11y,this.$container).attr("aria-hidden","true")))},updateUnitPrice:function(e){var i=e.variant;if(i&&i.unit_price){var n=theme.Currency.formatMoney(i.unit_price,theme.settings.moneyFormat),o=theme.Currency.getBaseUnit(i);t(m.unitWrapper,this.$container).html(n+"/"+o).removeClass("hide").removeClass(u.visuallyHide)}else t(m.unitWrapper,this.$container).addClass(u.visuallyHide)},updateImageSet:function(e,i){var n=e?e.variant:this.variants?this.variants.currentVariant:null;if(n){var o=this.settings.imageSetIndex;if(o){var a=this.getImageSetName(n[o]);if(i||this.settings.currentImageSet!==a){var s=this.settings.imageSetName+"_"+a;if(!theme.config.bpSmall&&this.settings.stackedImages)return t("[data-group]",this.$container).addClass("hide"),t('[data-group="'+s+'"]',this.$container).removeClass("hide"),this.stackedImagePositions(),AOS.refresh(),void(this.settings.currentImageSet=a);
this.settings.slickMainInitialized&&(t("[data-group]",this.$container).removeClass("hide"),this.$mainSlider.slick("slickUnfilter"),this.$mainSlider.slick("slickFilter",'[data-group="'+s+'"]').slick("refresh"),this.settings.currentImageSet=a),theme.config.bpSmall||this.settings.stackedImages||this.settings.slickThumbInitialized&&(this.$thumbSlider.slick("slickUnfilter"),this.$thumbSlider.slick("slickFilter",'[data-group="'+s+'"]').slick("refresh"),this.settings.currentImageSet=a)}}}},getImageSetName:function(t){return t.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/-$/,"").replace(/^-/,"")},updateSku:function(e){var i=e.variant,n="";i&&(i.sku&&(n=i.sku),t(m.sku,this.$container).html(n))},updateInventory:function(t){var e=t.variant;if(!e||!e.inventory_management||"continue"===e.inventory_policy)return this.toggleInventoryQuantity(!1),void this.toggleIncomingInventory(!1);if("shopify"===e.inventory_management&&window.inventories&&window.inventories[this.sectionId]){variantInventoryObject=window.inventories[this.sectionId][e.id];var i=variantInventoryObject.quantity,n=!0,o=!1;(i<=0||i>this.settings.inventoryThreshold)&&(n=!1),this.toggleInventoryQuantity(n,i),!n&&variantInventoryObject.incoming&&i<=theme.settings.inventoryThreshold&&(o=!0),this.toggleIncomingInventory(o,e.available,variantInventoryObject.next_incoming_date)}},updateAvailability:function(t){var e=t.variant;e&&this.storeAvailability.updateContent(e.id)},toggleInventoryQuantity:function(e,i){this.settings.inventory||(e=!1),e?t(m.inventory,this.$container).removeClass("hide").text(theme.strings.stockLabel.replace("[count]",i)):t(m.inventory,this.$container).addClass("hide")},toggleIncomingInventory:function(e,i,n){if(this.settings.incomingInventory||(e=!1),e){var o=i?theme.strings.willNotShipUntil.replace("[date]",n):theme.strings.willBeInStockAfter.replace("[date]",n);n||(o=theme.strings.waitingForStock),t(m.incomingInventory,this.$container).removeClass("hide").text(o)}else t(m.incomingInventory,this.$container).addClass("hide")},checkIfVideos:function(){var e=this.$mainSlider.find(m.productVideo);if(!e.length)return!1;var i=[];return e.each(function(){var e=t(this).data("video-type");i.indexOf(e)<0&&i.push(e)}),i.indexOf("youtube")>-1&&(theme.config.youTubeReady?this.loadYoutubeVideos(e):(theme.LibraryLoader.load("youtubeSdk"),t("body").on("youTubeReady"+this.namespace,function(){this.loadYoutubeVideos(e)}.bind(this)))),i.indexOf("mp4")>-1&&this.loadMp4Videos(e),i},initVideo:function(t){var e=t.data("video-type"),i=t.attr("id");"mp4"===e&&"muted"===p[i].style&&this.playMp4Video(i),"youtube"===e&&h&&"muted"===p[i].style&&this.requestToPlayYoutubeVideo(i),this.inModal&&this.resizeSlides()},stopVideo:function(t,e){t||(this.stopYoutubeVideo(),this.stopMp4Video()),"youtube"===e&&this.stopYoutubeVideo(t),"mp4"===e&&this.stopMp4Video(t)},getVideoType:function(t){return t.data("video-type")},getVideoId:function(t){return t.attr("id")},loadMp4Videos:function(e){e.each(function(e,i){var n=t(i);if("mp4"==n.data("video-type")){var o=n.attr("id");n.data("video-id");p[o]=this.videos[o]={type:"mp4",divId:o,style:n.data("video-style")}}}.bind(this))},loadYoutubeVideos:function(i){i.each(function(i,n){var o=t(n);if("youtube"==o.data("video-type")){var a=o.attr("id"),r=o.data("youtube-id");p[a]=this.videos[a]={type:"youtube",id:a,videoId:r,style:o.data("video-style"),loop:o.data("video-loop"),attemptedToPlay:!1,events:{onReady:function(t){e(t,a)},onStateChange:function(t){s(t,a)}}}}}.bind(this));for(var n in p)if("youtube"===p[n].type&&p.hasOwnProperty(n)){var o=t.extend({},g,p[n]);"muted"===o.style||(o.playerVars.controls=1,o.playerVars.autoplay=0),f[n]||(f[n]=new YT.Player(n,o))}h=!0},requestToPlayYoutubeVideo:function(e,i){if(theme.config.youTubeReady){var n=t("#"+e);return r(n),"function"!=typeof f[e].playVideo?void setTimeout(function(){this.playYoutubeVideo(e,i)}.bind(this),1e3):void this.playYoutubeVideo(e,i)}},playYoutubeVideo:function(e,n){var o=t("#"+e);c(o),"function"==typeof f[e].playVideo&&f[e].playVideo(),n||i(e)},stopYoutubeVideo:function(e){if(theme.config.youTubeReady)if(e&&f[e])"function"==typeof f[e].pauseVideo&&f[e].pauseVideo(),t(window).off("scroll."+e);else for(key in f){var i=this.$container.find("#"+key);i.length&&"function"==typeof f[key].pauseVideo&&(f[key].pauseVideo(),t(window).off("scroll."+key))}},playMp4Video:function(e){var i=t("#"+e);c(i);var n=i[0].play();void 0!==n&&n.then(function(){}).catch(function(t){i[0].setAttribute("controls",""),i.closest(m.videoParent).attr("data-video-style","unmuted")})},stopMp4Video:function(e){if(e)t("#"+e)[0].pause();else for(var i in p){var n=this.$container.find("#"+i);if(n.length&&"mp4"===p[i].type){var o=t("#"+p[i].divId)[0];o&&"function"==typeof o.pause&&o.pause()}}},setCurrentVariantAvailability:function(e){var i={option1:[],option2:[],option3:[]};this.disableVariantGroup(t(m.formContainer,this.$container).find(".variant-input-wrap"));var n=this.variantsObject.filter(function(t){return e.id!==t.id&&(e.option2===t.option2&&e.option3===t.option3||(e.option1===t.option1&&e.option3===t.option3||(e.option1===t.option1&&e.option2===t.option2||void 0)))}),o={variant:e};n=Object.assign({},o,n);for(var a in n)if(n.hasOwnProperty(a)){var s=n[a],r=s.option1,c=s.option2,d=s.option3;r&&i.option1.indexOf(r)===-1&&i.option1.push(r),c&&i.option2.indexOf(c)===-1&&i.option2.push(c),d&&i.option3.indexOf(d)===-1&&i.option3.push(d)}i.option1.length&&this.enableVariantOptionByValue(i.option1,"option1"),i.option2.length&&this.enableVariantOptionByValue(i.option2,"option2"),i.option3.length&&this.enableVariantOptionByValue(i.option3,"option3")},updateVariantAvailability:function(e,i,n){if(i&&n)var o=i,a=n;else var s=t(e.currentTarget),o=s.val()?s.val():e.currentTarget.value,a=s.data("index");var r=this.variantsObject.filter(function(t){return t[a]===o});t(m.formContainer,this.$container).find(".variant-input-wrap").each(function(e,i){var n=t(i),o=n.data("index");if(o!==a){this.disableVariantGroup(n);for(var s=0;s<r.length;s++)this.enableVariantOption(n,r[s][o])}}.bind(this))},disableVariantGroup:function(t){"dropdown"===this.settings.variantType?t.find("option").prop("disabled",!0):(t.find("input").prop("disabled",!0),t.find("label").toggleClass("disabled",!0))},enableVariantOptionByValue:function(e,i){for(var n=t(m.formContainer,this.$container).find('.variant-input-wrap[data-index="'+i+'"]'),o=0;o<e.length;o++)this.enableVariantOption(n,e[o])},enableVariantOption:function(t,e){if(e=e.replace(/([ #;&,.+*~\':"!^$[\]()=>|\/@])/g,"\\$1"),"dropdown"===this.settings.variantType)t.find('option[value="'+e+'"]').prop("disabled",!1);else{var i=t.find('.variant-input[data-value="'+e+'"]');i.find("input").prop("disabled",!1),i.find("label").toggleClass("disabled",!1)}},preImageSetup:function(){this.setImageSizes(),this.initImageSwitch(),this.initImageZoom(),this.customMediaListners(),this.initModelViewerLibraries(),this.initShopifyXrLaunch()},imageSetup:function(e){if(!this.$thumbSlider.length||t(m.photoThumbs,this.$container).length<2){var i=t(m.productImageMain,this.$container).find(m.productVideo);return void(i.length&&this.initVideo(i))}this.settings.hasMultipleImages=!0,this.settings.has3d=this.$container.find(m.media).length,"muted"!==this.settings.videoStyle&&theme.videoModal(!0),e?theme.utils.promiseStylesheet().then(function(){this.createImageCarousels()}.bind(this)):this.createImageCarousels()},initImageZoom:function(){var e=t(m.imageContainer,this.$container);new theme.Photoswipe(e,this.sectionId)},getThumbIndex:function(t){var e=t.closest(".product__thumb-item"),i=e.index();return i=i<0?0:i},setImageSizes:function(){if(this.settings.hasImages){var t=this.$firstProductImage[0].currentSrc;t&&(this.settings.imageSize=theme.Images.imageSize(t))}},updateVariantImage:function(e){var i=e.variant,n=(theme.Images.getSizedImageUrl(i.featured_media.preview_image.src,this.settings.imageSize),t('.product__slide[data-id="'+i.featured_media.id+'"]').data("index"));"undefined"!=typeof n&&(!theme.config.bpSmall&&this.settings.stackedImages?this.stackedScrollTo(n):this.$mainSlider.slick("slickGoTo",n))},initImageSwitch:function(){t(m.photoThumbs,this.$container).length&&t(m.photoThumbs,this.$container).on("click",function(e){if(e.preventDefault(),!theme.config.bpSmall&&this.settings.stackedImages){var i=this.getThumbIndex(t(e.currentTarget));this.stackedScrollTo(i)}}.bind(this)).on("focus",function(e){var i=this.getThumbIndex(t(e.currentTarget));theme.config.bpSmall||(this.settings.stackedImages?(t(m.photoThumbItem,this.$container).removeClass(u.thumbActive),this.stackedScrollTo(i)):this.$mainSlider&&this.settings.slickMainInitialized&&this.$mainSlider.slick("slickGoTo",i))}.bind(this)).on("keydown",function(t){13===t.keyCode&&this.$container.find(m.currentSlide).focus()}.bind(this))},stackedImagesInit:function(){t(window).off(this.namespaceImages),this.stackedImagePositions(),this.inModal?setTimeout(function(){this.stackedActive(this.settings.stackedCurrent)}.bind(this),1e3):this.stackedActive(this.settings.stackedCurrent),t(window).on("resize"+this.namespaceImages,t.debounce(200,this.stackedImagePositions.bind(this))),t(window).on("scroll"+this.namespaceImages,t.throttle(200,function(){var t=window.scrollY,e=this.settings.stackedImagePositions.reduce(function(e,i){return Math.abs(i-t)<Math.abs(e-t)?i:e}),i=this.settings.stackedImagePositions.indexOf(e);this.settings.stackedCurrent!==i&&this.stackedActive(i)}.bind(this)))},stackedImagePositions:function(){var e=[];t(m.photo,this.$container).each(function(){e.push(Math.round(t(this).offset().top))}),this.settings.stackedImagePositions=e},stackedScrollTo:function(e){var i=t(m.photo,this.$container).eq(e).offset().top;t("html, body").animate({scrollTop:i},400,"swing")},stackedActive:function(e){if(t(m.photoThumbItem,this.$container).removeClass(u.thumbActive).eq(e).addClass(u.thumbActive),this.settings.hasVideos){this.stopVideo();var i=t(m.photo,this.$container).eq(e).find(".product__video");i.length&&this.initVideo(i)}if(this.settings.has3d){this.$container.find(m.media).trigger("mediaHidden");var n=t(m.photo,this.$container).eq(e).find(m.media);n.length&&n.trigger("mediaVisible")}this.settings.stackedCurrent=e},createImageCarousels:function(){var e=this.$mainSlider.find(".starting-slide"),i=this._slideIndex(e);this.$mainSlider.off("init"),this.$mainSlider.off("beforeChange"),this.$mainSlider.on("init",this.mainSlideInit.bind(this)),this.$mainSlider.on("beforeChange",this.beforeSlideChange.bind(this)),this.$thumbSlider.on("init",this.thumbSlideInit.bind(this)),this.mainSliderArgs={infinite:!this.settings.has3d,arrows:!1,dots:!0,touchThreshold:10,speed:300,adaptiveHeight:!0,initialSlide:i,rtl:theme.config.rtl,appendDots:this.$container.find(m.dotsContainer)},this.thumbSliderArgs={accessibility:!1,rtl:theme.config.rtl,initialSlide:i};var n=this.setSliderArgs();this.initSliders(n),t("body").on("matchSmall matchLarge",function(){var t=this.setSliderArgs();this.initSliders(t,!0)}.bind(this)),AOS&&AOS.refresh()},initSliders:function(t,e){this.destroyImageCarousels(),!theme.config.bpSmall&&this.settings.stackedImages?this.stackedImagesInit():this.$mainSlider.not(".slick-initialized").slick(t.main),theme.config.bpSmall||this.settings.stackedImages||this.$thumbSlider.length&&this.$thumbSlider.not(".slick-initialized").slick(t.thumbs),this.variants&&this.settings.imageSetName&&this.updateImageSet(null,e)},setSliderArgs:function(){var e={},i="beside"===this.$thumbSlider.data("position");return theme.config.bpSmall?(e.main=this.mainSliderArgs,e.thumbs=this.thumbSliderArgs):(e.main=t.extend({},this.mainSliderArgs,{asNavFor:"#"+this.$thumbSlider.attr("id"),adaptiveHeight:!i,dots:!1,infinite:!1,fade:!0}),e.thumbs=t.extend({},this.thumbSliderArgs,{asNavFor:"#"+this.$mainSlider.attr("id"),slidesToShow:i?3:5,slidesToScroll:1,arrows:!1,dots:!1,vertical:i,verticalSwiping:i,focusOnSelect:!0,infinite:!1,customHeightMatching:i,customSlideAdvancement:!0})),e},destroyImageCarousels:function(){this.$mainSlider&&this.settings.slickMainInitialized&&(this.$mainSlider.slick("slickUnfilter").slick("unslick"),this.settings.slickMainInitialized=!1),this.$thumbSlider&&this.settings.slickThumbInitialized&&(this.$thumbSlider.slick("slickUnfilter").slick("unslick"),this.settings.slickThumbInitialized=!1),this.settings.slickMainInitialized=!1,this.settings.slickThumbInitialized=!1},mainSlideInit:function(t,e){var i=e.$slider.find(m.currentSlide),n=i.find(m.productVideo),o=i.find(m.media);this.settings.slickMainInitialized=!0,n.length&&this.initVideo(n),o.length&&this.hideZoomOverlay(!0)},thumbSlideInit:function(t,e){this.settings.slickThumbInitialized=!0},beforeSlideChange:function(e,i,n,o){var a=i.$slider,s=a.find(m.currentSlide),r=a.find('.slick-slide[data-slick-index="'+o+'"]'),d=!1,l=s.find(".product__video");if(n!==o&&l.length){var u=this.getVideoType(l),f=this.getVideoId(l);f&&this.stopVideo(f,u)}var g=r.find(".product__video");if(g.length){d=!0;var v=this.getVideoType(g),y=this.getVideoId(g);y&&"youtube"===v&&(h?p[y]&&"muted"===p[y].style&&this.requestToPlayYoutubeVideo(y,!0):t("body").on("youTubeReady"+this.namespace,function(){p[y]&&"muted"===p[y].style&&this.requestToPlayYoutubeVideo(y,!0)}.bind(this))),y&&p[y]&&"muted"===p[y].style&&"mp4"===v&&this.playMp4Video(y),y&&p[y]&&"muted"!=p[y].style&&c(t("#"+y))}r.find(".product-video-trigger").length&&(d=!0);var b=s.find(m.media);b.length&&b.trigger("mediaHidden");var w=r.find(m.media);w.length&&(d=!0,w.trigger("mediaVisible"),r.find(".shopify-model-viewer-ui__button").attr("tabindex",0),r.find(".product-single__close-media").attr("tabindex",0)),this.hideZoomOverlay(d)},hideZoomOverlay:function(e){e?t(m.zoomButton,this.$container).addClass(u.hidden):t(m.zoomButton,this.$container).removeClass(u.hidden)},resizeSlides:function(){this.settings.hasMultipleImages&&(t(window).trigger("resize.slick"),setTimeout(function(){this.$mainSlider&&this.settings.slickMainInitialized&&this.$mainSlider.slick("setPosition"),this.$thumbSlider&&this.settings.slickThumbInitialized&&this.$thumbSlider.slick("setPosition")}.bind(this),500))},_slideIndex:function(t){return t.data("slick-index")},openModalProduct:function(){var e=!1;if(this.settings.modalInit)e=!0,!theme.config.bpSmall&&this.settings.stackedImages&&this.stackedActive(0);else{var i=this.$formHolder.data("url"),n=this.$formHolder.data("template");n||(i+="?view=ajax"),t.get(i,function(e){var i=t(e),n=i.find("#AddToCartForm-"+this.sectionId);this.replaceModalFormHolder(this.$formHolder,n);var o=i.find("#ProductSections-"+this.sectionId);o.length&&this.loadProductSections(o);var a=i.find("#Recommendations-"+this.sectionId);a.length&&this.loadRelatedProducts(a);var s=i.find(".index-section.social-section");s.length&&this.loadSocialSection(s),window.SPR&&(SPR.initDomEls(),SPR.loadBadges()),sections.loadSubSections(this.$modal),document.dispatchEvent(new CustomEvent("quickview:loaded",{detail:{productId:this.sectionId}}))}.bind(this)),this.preImageSetup(),this.loadModalContent(),this.imageSetup(!1),this.settings.modalInit=!0}document.dispatchEvent(new CustomEvent("quickview:open",{detail:{initialized:e,productId:this.sectionId}})),this.resizeSlides()},closeModalProduct:function(){this.stopVideo(),t("body").off(this.namespace),t(window).off(this.namespace)},replaceModalFormHolder:function(t,e){t.replaceWith(e),this.formSetup(),Shopify&&Shopify.PaymentButton&&Shopify.PaymentButton.init()},loadProductSections:function(e){t("#ProductSectionsHolder-"+this.sectionId).replaceWith(e)},loadRelatedProducts:function(e){e.find(".screen-layer--product").remove(),t("#ProductRelatedHolder-"+this.sectionId).replaceWith(e)},loadSocialSection:function(e){t("#SocialSectionHolder-"+this.sectionId).replaceWith(e)},loadModalContent:function(){var e=this.checkIfVideos();e&&e.indexOf("mp4")>-1&&this.$modal.find('.product__video[data-video-type="mp4"]').find(".product__video-src").each(function(e,i){var n=t(i),o=n.attr("src"),a=n.attr("type"),s=document.createElement("source");s.src=o,s.type=a,n.after(s)}.bind(this))},initModelViewerLibraries:function(){var e=t(m.media,this.$container);e.length<1||theme.ProductMedia.init(e,this.sectionId)},initShopifyXrLaunch:function(){var e=this;t(document).on("shopify_xr_launch",function(){var i=t(e.selectors.productMediaWrapper+":not(."+u.hidden+")",e.$container);i.trigger("xrLaunch")})},customMediaListners:function(){t(m.closeMedia,this.$container).on("click",function(){this.$container.find(m.media).trigger("mediaHidden")}.bind(this)),this.$container.find("model-viewer").on("shopify_model_viewer_ui_toggle_play",function(t){this.mediaLoaded(t)}.bind(this)).on("shopify_model_viewer_ui_toggle_pause",function(t){this.mediaUnloaded(t)}.bind(this))},mediaLoaded:function(t){this.$container.find(m.closeMedia).removeClass("hide"),this.toggleSliderSwiping(!1)},mediaUnloaded:function(t){this.$container.find(m.closeMedia).addClass("hide"),this.toggleSliderSwiping(!0)},toggleSliderSwiping:function(t){this.$mainSlider&&this.settings.slickMainInitialized&&(this.$mainSlider.slick("slickSetOption","swipe",t),this.$mainSlider.slick("slickSetOption","draggable",t),this.$mainSlider.slick("slickSetOption","touchMove",t),this.$mainSlider.slick("slickSetOption","accessibility",t))},onUnload:function(){this.$container.off(this.namespace),t("body").off(this.namespace),t(window).off(this.namespace).off(this.namespaceImages),this.destroyImageCarousels(),theme.ProductMedia.removeSectionModels(this.sectionId);for(var e in this.videos)"youtube"===this.videos[e].type&&this.videos.hasOwnProperty(e)&&f[e]&&delete f[e];AOS&&AOS.refresh()}}),l}(),theme.Recommendations=function(){function e(e){var i=this.$container=t(e),n=this.sectionId=i.attr("data-section-id");this.url=i.data("url"),this.selectors={recommendations:"#Recommendations-"+n,placeholder:".product-recommendations-placeholder",sectionClass:" .product-recommendations",productResults:".grid-product"},this.init()}return e.prototype=t.extend({},e.prototype,{init:function(){var e=t(this.selectors.recommendations);if(e.length&&e.data("enable")!==!1){var i=e.find(this.selectors.placeholder),n=e.data("product-id"),o=e.data("limit"),a=this.url+"?section_id=product-recommendations&limit="+o+"&product_id="+n;i.load(a+this.selectors.sectionClass,function(i){theme.reinitProductGridItem(e),0===t(i).find(this.selectors.sectionClass).find(this.selectors.productResults).length&&e.addClass("hide")}.bind(this))}}}),e}(),theme.StoreAvailability=function(){function t(t){this.container=t,this.baseUrl=t.dataset.baseUrl,this.productTitle=t.dataset.productName}var e={drawerOpenBtn:".js-drawer-open-availability",productTitle:"[data-availability-product-title]"};return t.prototype=Object.assign({},t.prototype,{updateContent:function(t){var i=this.baseUrl+"/variants/"+t+"/?section_id=store-availability";this.container.innerHTML="";var n=this;fetch(i).then(function(t){return t.text()}).then(function(t){if(""!==t.trim()){n.container.innerHTML=t,n.container.innerHTML=n.container.firstElementChild.innerHTML;var i=n.container.querySelector(".drawer");if(i){var o=document.getElementById("AvailabilityDrawer");if(o.innerHTML="",o.appendChild(i),n.container.querySelector(e.drawerOpenBtn)){var a=n.container.querySelector(e.drawerOpenBtn).getAttribute("aria-controls");n.drawer=new theme.Drawers(a,"availability"),o.querySelector(e.productTitle).textContent=n.productTitle}}}})}}),t}(),theme.FeaturedCollection=function(){function e(e){this.$container=t(e),this.sectionId=this.$container.attr("data-section-id"),this.$scrollWrap=t(i.scrollWrap,this.$container),this.$scrollArrows=t(i.arrows,this.$container),this.namespace=".featured-collection-"+this.sectionId,this.options={scrollable:this.$container.data("scrollable"),paginate:this.$container.data("paginate")};var n=this.$container.data("paginate-by"),o=this.$container.data("collection-count");this.settings={url:this.$container.data("collection-url"),page:1,pageCount:this.options.paginate?Math.ceil(o/n):0,itemsToScroll:3,gridItemWidth:this.$container.data("grid-item-width")},this.state={isInit:!1,loading:!1,scrollerEnabled:!1,loadedAllProducts:!1,scrollable:this.options.scrollable,scrollInterval:null,scrollSpeed:3},this.sizing={scroller:0,itemWidth:0},theme.utils.promiseStylesheet().then(function(){this.checkVisibility(),t(window).on("scroll"+this.namespace,t.debounce(200,this.checkVisibility.bind(this)))}.bind(this))}var i={scrollWrap:"[data-pagination-wrapper]",productContainer:"[data-product-container]",collectionProductContainer:"[data-collection-container]",product:"[data-product-grid]",arrows:"[data-arrow]"},n={loading:"collection-loading",arrowLeft:"overflow-scroller__arrow--left",disableScrollLeft:"overflow-scroller--disable-left",disableScrollRight:"overflow-scroller--disable-right"};return e.prototype=t.extend({},e.prototype,{checkVisibility:function(){return this.state.isInit?(0===this.sizing.scrollSize&&this.$scrollWrap.trigger("scroll"+this.namespace),void t(window).off("scroll"+this.namespace)):void(theme.isElementVisible(this.$container)&&(this.init(),this.state.isInit=!0))},init:function(){new theme.HoverProductGrid(this.$container),this.state.scrollable&&(this.sizing=this.getScrollWidths(),t(window).on("resize"+this.namespace,t.debounce(200,this.handleResize.bind(this))),this.toggleScrollListener(this.state.scrollable),this.arrowListeners(this.state.scrollable))},reInit:function(){new theme.HoverProductGrid(this.$container),this.state.scrollable&&(this.sizing=this.getScrollWidths(),this.toggleScrollListener(this.state.scrollable)),theme.reinitProductGridItem()},loadingState:function(t){this.state.loading=t,this.$container.toggleClass(n.loading,t)},getScrollWidths:function(){var t=this.$scrollWrap.width(),e=this.$scrollWrap[0].scrollWidth,i=this.$scrollWrap.find(".grid__item").first().outerWidth();return this.state.isInit||(e-=200),e<=t&&this.disableArrow(null,!0),{scroller:e,scrollSize:e-t,itemWidth:i}},handleResize:function(){this.state.scrollable&&(this.sizing=this.getScrollWidths()),this.toggleScrollListener(this.state.scrollable),this.arrowListeners(this.state.scrollable)},toggleScrollListener:function(e){if(e){if(this.state.scrollerEnabled)return;this.$scrollWrap.on("scroll"+this.namespace,t.throttle(250,this.scrollCheck.bind(this))),this.state.scrollerEnabled=!0}else this.$scrollWrap.off("scroll"+this.namespace),this.state.scrollerEnabled=!1},scrollCheck:function(t){if(this.state.loading)return void this.toggleScrollListener(!1);0===this.sizing.scrollSize&&(this.sizing=this.getScrollWidths());var e=t.currentTarget.scrollLeft?t.currentTarget.scrollLeft:0,i=Math.floor(e/this.sizing.scrollSize*100);this.sizing.scrollSize-e;this.options.paginate&&!this.state.loadedAllProducts&&i>50&&this.getNewProducts(),i||(i=0),this.disableArrow(i)},arrowListeners:function(t){t?this.$scrollArrows.removeClass("hide").off(this.namespace).on("click"+this.namespace,this.arrowScroll.bind(this)):this.$scrollArrows.addClass("hide").off(this.namespace)},arrowScroll:function(e){var i=t(e.currentTarget).hasClass(n.arrowLeft)?"left":"right",o=theme.config.bpSmall?1:2;if("mouseenter"===e.type)this.state.scrollInterval=setInterval(function(){var t=this.$scrollWrap.scrollLeft(),e="left"===i?t-o:t+o;this.$scrollWrap.scrollLeft(e)}.bind(this),this.state.scrollSpeed);else if("mouseleave"===e.type)clearInterval(this.state.scrollInterval);else if("click"===e.type){clearInterval(this.state.scrollInterval);var a=this.$scrollWrap.scrollLeft(),s=this.sizing.itemWidth*this.settings.itemsToScroll,r="left"===i?a-s:a+s;this.$scrollWrap.stop().animate({scrollLeft:r},400,"swing")}r<=0&&this.disableArrow(r)},disableArrow:function(t,e){return this.$scrollArrows.removeClass(n.disableScrollRight).removeClass(n.disableScrollLeft),e?void this.$scrollArrows.addClass(n.disableScrollRight).addClass(n.disableScrollLeft):t<=0?void this.$scrollArrows.addClass(n.disableScrollLeft):t>=96?void this.$scrollArrows.addClass(n.disableScrollRight):void 0},getNewProducts:function(){this.loadingState(!0);var e=this.settings.page+1,n=this.settings.gridItemWidth;if(e>this.settings.pageCount)return this.loadingState(!1),void(this.state.loadedAllProducts=!0);var o=this.settings.url+"?page="+e;t.get(o,function(e){var o=t(e),a=o.find(i.collectionProductContainer+" .grid-product");a.each(function(){t(this).addClass(n)}),t(i.productContainer,this.$container).append(a),this.ajaxSuccess()}.bind(this))},ajaxSuccess:function(){this.loadingState(!1),this.settings.page=this.settings.page+1,this.reInit()},forceReload:function(){this.onUnload(),this.init()},onLoad:function(){theme.QuickShopScreens.reInit(this.$container)},onUnload:function(){t(window).off(this.namespace).trigger("resize"),this.$scrollWrap.off(this.namespace),theme.QuickShopScreens.unload(this.$container)}}),e}(),theme.Collection=function(){function e(e){this.container=e,this.sectionId=t(e).attr("data-section-id"),this.namespace=".collection-"+this.sectionId;var n=t(".collection-hero").length;n?this.checkIfNeedReload():theme.settings.overlayHeader&&theme.headerNav.disableOverlayHeader(),t(window).on("popstate",function(t){if(t){if(location.href.indexOf(location.pathname)>=0)return!0;theme.CollectionAjaxFilter(location.href).then(function(){i=!1})}}.bind(this)),this.init()}var i=!1,n={sortSelect:"#SortBy"},o={sortBy:"data-default-sortby"};return e.prototype=t.extend({},e.prototype,{init:function(){this.$container=t(this.container),this.sectionId=this.$container.attr("data-section-id"),this.$sortSelect=t(n.sortSelect),this.$sortSelect.on("change",this.onSortChange.bind(this)),this.defaultSort=this.getDefaultSortValue(),new theme.HoverProductGrid(this.$container),this.initParams(),this.sortTags()},initParams:function(){if(this.queryParams={},location.search.length)for(var t,e=location.search.substr(1).split("&"),i=0;i<e.length;i++)t=e[i].split("="),t.length>1&&(this.queryParams[decodeURIComponent(t[0])]=decodeURIComponent(t[1]))},getSortValue:function(){return this.$sortSelect.val()||this.defaultSort},getDefaultSortValue:function(){return this.$sortSelect.attr(o.sortBy)},onSortChange:function(){this.queryParams.sort_by=this.getSortValue(),this.queryParams.page&&delete this.queryParams.page,window.location.search=t.param(this.queryParams)},sortTags:function(){var e=t("#SortTags");e.length&&e.on("change",function(){location.href=t(this).val()})},checkIfNeedReload:function(){Shopify.designMode&&theme.settings.overlayHeader&&(t(".header-wrapper").hasClass("header-wrapper--overlay")||location.reload())},forceReload:function(){this.onUnload(),this.init()},onUnload:function(){t(window).off(this.namespace),this.$container.off(this.namespace)}}),e}(),theme.CollectionFilter=function(){function e(e){this.$container=t(e),this.sectionId=this.$container.attr("data-section-id"),this.namespace=".collection-filter-"+this.sectionId,this.settings={combineTags:this.$container.data("combine-tags")},this.initTagAjax()}var i=!1,n={tags:".tag a",activeTagList:".tag-list--active-tags"},o={activeTag:"tag--active",removeTagParent:"tag--remove"};return e.prototype=t.extend({},e.prototype,{initTagAjax:function(){t("body").on("click",n.tags,function(e){var a=t(this);if(!a.hasClass("no-ajax")&&(e.preventDefault(),!i)){i=!0;var a=t(e.currentTarget),s=a.parent(),r=a.attr("href");this.settings.combineTags?s.hasClass(o.activeTag)?s.removeClass(o.activeTag):(s.hasClass(o.removeTagParent)?s.remove():t(n.activeTagList).append('<li class="tag tag--remove"><a class="btn btn--small js-no-transition">'+a.text()+"</a></li>"),s.addClass(o.activeTag)):(t(n.tags).parent().removeClass(o.activeTag),s.addClass(o.activeTag)),history.pushState({},"",r),t(".grid-product").addClass("unload"),theme.CollectionAjaxFilter(r).then(function(){i=!1})}}.bind(this))}}),e}(),theme.CollectionAjaxFilter=function(e){var i={filterWrapper:".collection-filter__wrapper",productsWrapper:"#CollectionAjaxContent"};e=e.indexOf("?")===-1?e+"?view=ajax":e+"&view=ajax";var n=t.Deferred(function(n){t.get(e,function(e){var o=t(e),a=o.find(i.filterWrapper);t(i.filterWrapper).replaceWith(a);var s=o.find(i.productsWrapper);t(i.productsWrapper).replaceWith(s),sections.reinitSection("collection-template"),theme.QuickShopScreens.reInit(t(i.productsWrapper)),theme.reinitProductGridItem(t(i.productsWrapper)),n.resolve()})});return n},theme.HeaderSection=function(){function e(e){var i=this.$container=t(e);this.sectionId=i.attr("data-section-id");this.initDrawers(),theme.headerNav.init(),theme.slideNav.init(),sections.reinitSection("slideshow-section")}return e.prototype=t.extend({},e.prototype,{initDrawers:function(){t(document.body).hasClass("template-cart")?new theme.AjaxCart("CartPage"):"drawer"===theme.settings.cartType&&new theme.AjaxCart("CartDrawer")},onUnload:function(){theme.headerNav.unload(),theme.slideNav.unload()}}),e}(),theme.FooterSection=function(){function e(e){this.$container=t(e);this.cache={},this.cacheSelectors(),this.cache.$localeDisclosure.length&&(this.localeDisclosure=new theme.Disclosure(this.cache.$localeDisclosure)),this.cache.$currencyDisclosure.length&&(this.currencyDisclosure=new theme.Disclosure(this.cache.$currencyDisclosure))}var i={disclosureLocale:"[data-disclosure-locale]",disclosureCurrency:"[data-disclosure-currency]"};return e.prototype=t.extend({},e.prototype,{cacheSelectors:function(){this.cache={$localeDisclosure:this.$container.find(i.disclosureLocale),$currencyDisclosure:this.$container.find(i.disclosureCurrency)}},onUnload:function(){this.cache.$localeDisclosure.length&&this.localeDisclosure.unload(),this.cache.$currencyDisclosure.length&&this.currencyDisclosure.unload()}}),e}(),theme.FeaturedContentSection=function(){function e(){t(".rte").find("a:not(:has(img))").addClass("text-link")}return e}(),theme.slideshows={},theme.SlideshowSection=function(){function e(e){var i=this.$container=t(e),n=(i.parent(),i.attr("data-section-id")),o=(this.slideshow="#Slideshow-"+n,t(e).find(".hero"));o.length&&theme.loadImageSection(o),this.init()}return e.prototype=t.extend({},e.prototype,{init:function(){var e={arrows:t(this.slideshow).data("arrows"),dots:t(this.slideshow).data("dots"),pauseOnHover:!0};theme.slideshows[this.slideshow]=new theme.Slideshow(this.slideshow,e)},forceReload:function(){this.onUnload(),this.init()},onUnload:function(){theme.slideshows[this.slideshow].destroy(),delete theme.slideshows[this.slideshow]},onSelect:function(){t(this.slideshow).slick("slickPause")},onDeselect:function(){t(this.slideshow).slick("slickPlay")},onBlockSelect:function(e){var i=t(this.slideshow),n=t(".slideshow__slide--"+e.detail.blockId+":not(.slick-cloned)"),o=n.data("slick-index");i.slick("slickGoTo",o).slick("slickPause")},onBlockDeselect:function(){t(this.slideshow).slick("slickPlay")}}),e}(),theme.HeroAnimated=function(){function e(e){var i=this.$container=t(e),n=(i.parent(),i.attr("data-section-id")),o=i.data("count"),a=".hero-animated-"+n,s=t(e).find(".hero");return s.length&&theme.loadImageSection(s),this.$allImages=i.find(".animated__slide"),this.state={active:!1,activeIndex:0},1===o?void this.setFades(!0):(this.interval,this.intervalSpeed=i.data("interval"),this.maxIndex=o-1,void theme.utils.promiseStylesheet().then(function(){this.checkVisibility(),t(window).on("scroll"+a,t.throttle(300,this.checkVisibility.bind(this)))}.bind(this)))}var i={active:"animated__slide--active",inactive:"animated__slide--inactive"};return e.prototype=t.extend({},e.prototype,{checkVisibility:function(){return theme.isElementVisible(this.$container)?void(this.state.active||this.initInterval()):(this.state.active=!1,void clearInterval(this.interval))},initInterval:function(){this.state.active=!0,this.setFades(!0),this.interval=setInterval(function(){this.setFades()}.bind(this),this.intervalSpeed)},setFades:function(t){var e=this.state.activeIndex===this.maxIndex?0:this.state.activeIndex+1;t&&(e=this.state.activeIndex),t||this.$allImages.eq(this.state.activeIndex).removeClass(i.active).addClass(i.inactive),this.$allImages.eq(e).removeClass(i.inactive).addClass(i.active),
this.state.activeIndex=e},onUnload:function(){clearInterval(this.interval)}}),e}(),theme.VideoSection=function(){function e(e){var n=this.$container=t(e),o=(this.sectionId=n.attr("data-section-id"),this.youtubePlayerId="YouTubeVideo-"+this.sectionId);this.namespace="."+o;var a=this.vimeoPlayerId="Vimeo-"+this.sectionId,s=(this.$vimeoTrigger=t("#VimeoTrigger-"+this.sectionId),"Mp4Video-"+this.sectionId),r=t("#"+o),c=t("#"+a),h=t("#"+s);this.vimeoPlayer=[],r.length&&(this.youtubeVideoId=r.data("video-id"),this.initYoutubeVideo()),c.length&&(this.vimeoVideoId=c.data("video-id"),this.initVimeoVideo()),h.length&&i(s).then(function(){d(h)}).catch(function(t){h.attr("controls",""),d(h),l(h)})}function i(t){return document.querySelector("#"+t).play()}function n(e,i){var n=t("#"+i),a=n.attr("id");m[a]=e.target;m[a];c(n),m[a].mute(),n.attr("tabindex","-1"),theme.utils.promiseStylesheet().then(function(){o(a),t(window).on("scroll."+a,{id:a},t.throttle(150,o))})}function o(e){var i;if(e){if("string"==typeof e)i=e;else{if(!e||!e.data)return;i=e.data.id}theme.isElementVisible(t("#"+i))?a(i):s(i)}}function a(t){m[t]&&"function"==typeof m[t].playVideo&&m[t].playVideo()}function s(t){m[t]&&"function"==typeof m[t].pauseVideo&&m[t].pauseVideo()}function r(e,i){var n=t("#"+i),o=n.attr("id"),a=m[o];switch(e.data){case-1:u[o].attemptedToPlay&&(d(n),l(n));break;case 0:a.playVideo();break;case 1:d(n);break;case 3:u[o].attemptedToPlay=!0}}function c(t){t.closest(v.videoParent).addClass(y.loading)}function d(t){t.closest(v.videoParent).removeClass(y.loading).addClass(y.loaded)}function l(t){t.closest(v.videoParent).addClass(y.interactable)}var h,u=[],m=[],p={width:1280,height:720,playerVars:{autohide:0,branding:0,cc_load_policy:0,controls:0,fs:0,iv_load_policy:3,modestbranding:1,playsinline:1,quality:"hd720",rel:0,showinfo:0,wmode:"opaque"}},f=!1,g={byline:!1,title:!1,portrait:!1,loop:!0},v={videoParent:".video-parent-section"},y={loading:"loading",loaded:"loaded",interactable:"video-interactable"};return e.prototype=t.extend({},e.prototype,{initYoutubeVideo:function(){u[this.youtubePlayerId]={id:this.youtubePlayerId,videoId:this.youtubeVideoId,type:"youtube",attemptedToPlay:!1,events:{onReady:function(t){n(t,this.youtubePlayerId)}.bind(this),onStateChange:function(t){r(t,this.youtubePlayerId)}.bind(this)}},h?this.loadYoutubeVideo():(theme.LibraryLoader.load("youtubeSdk"),t("body").on("youTubeReady"+this.namespace,this.loadYoutubeVideo.bind(this)))},loadYoutubeVideo:function(){var e=t.extend({},p,u[this.youtubePlayerId]);e.playerVars.controls=0,m[this.youtubePlayerId]=new YT.Player(this.youtubePlayerId,e),h=!0},initVimeoVideo:function(){u[this.vimeoPlayerId]={divId:this.vimeoPlayerId,id:this.vimeoVideoId,type:"vimeo"};var e=t("#"+this.vimeoPlayerId);c(e),this.$vimeoTrigger.on("click",+this.namespace,function(t){this.requestToPlayVimeoVideo(this.vimeoPlayerId)}.bind(this)),f?this.loadVimeoVideo():(window.loadVimeo(),t("body").on("vimeoReady"+this.namespace,this.loadVimeoVideo.bind(this)))},loadVimeoVideo:function(){var e=t.extend({},g,u[this.vimeoPlayerId]);if(this.vimeoPlayer[this.vimeoPlayerId]=new Vimeo.Player(u[this.vimeoPlayerId].divId,e),f=!0,theme.config.bpSmall){var i=t("#"+this.vimeoPlayerId);d(i)}else this.requestToPlayVimeoVideo(this.vimeoPlayerId)},requestToPlayVimeoVideo:function(e){return f?void this.playVimeoVideo(e):void t("body").on("vimeoReady"+this.namespace,function(){this.playVimeoVideo(e)}.bind(this))},playVimeoVideo:function(e){this.vimeoPlayer[e].play(),this.vimeoPlayer[e].setVolume(0);var i=t("#"+e);d(i)},onUnload:function(e){var i=e.target.id.replace("shopify-section-",""),n="YouTubeVideo-"+i;m[n]&&m[n].destroy(),t(window).off("scroll"+this.namespace),t("body").off("vimeoReady"+this.namespace)}}),e}(),theme.Testimonials=function(){function e(e){var o=this.$container=t(e),a=o.attr("data-section-id"),s=(this.wrapper=".testimonials-wrapper",this.slider="#Testimonials-"+a),r=t(s);this.sliderActive=!1;var c=t.extend({},n,{slidesToShow:1,slidesToScroll:1,adaptiveHeight:!0});i=r.data("count"),i<n.slidesToShow&&(n.slidesToShow=i,n.slidesToScroll=i),r.on("init",this.a11y.bind(this)),theme.config.bpSmall?this.init(r,c):this.init(r,n),t("body").on("matchSmall",function(){this.init(r,c)}.bind(this)),t("body").on("matchLarge",function(){this.init(r,n)}.bind(this))}var i=0,n={accessibility:!0,arrows:!1,dots:!0,autoplay:!1,touchThreshold:20,rtl:theme.config.rtl,slidesToShow:3,slidesToScroll:3};return e.prototype=t.extend({},e.prototype,{onUnload:function(){t(this.slider,this.wrapper).slick("unslick")},onBlockSelect:function(e){var i=t(".testimonials-slide--"+e.detail.blockId+":not(.slick-cloned)"),n=i.data("slick-index");t(this.slider,this.wrapper).slick("slickGoTo",n)},init:function(e,i){this.sliderActive&&(e.slick("unslick"),this.sliderActive=!1),e.slick(i),this.sliderActive=!0,AOS&&AOS.refresh(),t("body").on("productModalClose",function(){e.slick("refresh")})},a11y:function(e,i){var n=i.$list,o=t(this.wrapper,this.$container);n.removeAttr("aria-live"),o.on("focusin",function(t){o.has(t.target).length&&n.attr("aria-live","polite")}),o.on("focusout",function(t){o.has(t.target).length&&n.removeAttr("aria-live")})}}),e}(),theme.NewsletterPopup=function(){function e(e){var i=this.$container=t(e),n=i.attr("data-section-id");if(this.cookieName="newsletter-"+n,i.length&&"/challenge"!==window.location.pathname){if(this.data={secondsBeforeShow:i.data("delay-seconds"),daysBeforeReappear:i.data("delay-days"),cookie:Cookies.get(this.cookieName),testMode:i.data("test-mode")},this.modal=new theme.Modals("NewsletterPopup-"+n,"newsletter-popup-modal"),(i.find(".errors").length||i.find(".note--success").length)&&this.modal.open(),i.find(".note--success").length)return void this.closePopup(!0);t("body").on("modalClose."+i.attr("id"),this.closePopup.bind(this)),this.data.cookie&&!this.data.testMode||this.initPopupDelay()}}return e.prototype=t.extend({},e.prototype,{initPopupDelay:function(){setTimeout(function(){this.modal.open()}.bind(this),1e3*this.data.secondsBeforeShow)},closePopup:function(t){if(this.data.testMode)return void Cookies.remove(this.cookieName,{path:"/"});var e=t?200:this.data.daysBeforeReappear;Cookies.set(this.cookieName,"opened",{path:"/",expires:e})},onLoad:function(){this.modal.open()},onSelect:function(){this.modal.open()},onDeselect:function(){this.modal.close()},onUnload:function(){}}),e}(),theme.Maps=function(){function e(e){this.$container=t(e),this.sectionId=this.$container.attr("data-section-id"),this.namespace=".map-"+this.sectionId,this.$map=this.$container.find(c.map),this.key=this.$map.data("api-key"),this.key&&(this.checkVisibility(),t(window).on("scroll"+this.namespace,t.throttle(50,this.checkVisibility.bind(this))))}function i(){t.each(s,function(t,e){e.createMap()})}function n(e){var i=t.Deferred(),n=new google.maps.Geocoder,o=e.data("address-setting");return n.geocode({address:o},function(t,e){e!==google.maps.GeocoderStatus.OK&&i.reject(e),i.resolve(t)}),i}var o={zoom:14},a=null,s=[],r={addressNoResults:theme.strings.addressNoResults,addressQueryLimit:theme.strings.addressQueryLimit,addressError:theme.strings.addressError,authError:theme.strings.authError},c={section:'[data-section-type="map"]',map:"[data-map]",mapOverlay:"[data-map-overlay]"},d={mapError:"map-section--load-error",errorMsg:"map-section__error errors text-center"};return window.gm_authFailure=function(){Shopify.designMode&&(t(c.section).addClass(d.mapError),t(c.map).remove(),t(c.mapOverlay).after('<div class="'+d.errorMsg+'">'+theme.strings.authError+"</div>"))},e.prototype=t.extend({},e.prototype,{prepMapApi:function(){"loaded"===a?this.createMap():(s.push(this),"loading"!==a&&(a="loading","undefined"!=typeof window.google&&"undefined"!=typeof window.google.maps||t.getScript("https://maps.googleapis.com/maps/api/js?key="+this.key).then(function(){a="loaded",i()})))},createMap:function(){var e=this.$map;return n(e).then(function(i){var n={zoom:o.zoom,backgroundColor:"none",center:i[0].geometry.location,draggable:!1,clickableIcons:!1,scrollwheel:!1,disableDoubleClickZoom:!0,disableDefaultUI:!0},a=this.map=new google.maps.Map(e[0],n),s=this.center=a.getCenter();new google.maps.Marker({map:a,position:a.getCenter()});google.maps.event.addDomListener(window,"resize",t.debounce(250,function(){google.maps.event.trigger(a,"resize"),a.setCenter(s),e.removeAttr("style")}))}.bind(this)).fail(function(){var t;switch(status){case"ZERO_RESULTS":t=r.addressNoResults;break;case"OVER_QUERY_LIMIT":t=r.addressQueryLimit;break;case"REQUEST_DENIED":t=r.authError;break;default:t=r.addressError}Shopify.designMode&&e.parent().addClass(d.mapError).html('<div class="'+d.errorMsg+'">'+t+"</div>")})},checkVisibility:function(){theme.isElementVisible(this.$container,600)&&(this.prepMapApi(),t(window).off(this.namespace))},onUnload:function(){0!==this.$map.length&&google.maps.event.clearListeners(this.map,"resize")}}),e}(),theme.Blog=function(){function e(t){this.tagFilters()}return e.prototype=t.extend({},e.prototype,{tagFilters:function(){var e=t("#BlogTagFilter");e.length&&e.on("change",function(){location.href=t(this).val()})},onUnload:function(){}}),e}(),theme.Photoswipe=function(){function e(t,e){this.$container=t,this.sectionId=e,this.namespace=".photoswipe-"+this.sectionId,this.gallery,this.$images,this.inSlideshow=!1,"false"!==t.attr("data-zoom")&&("true"===t.attr("data-has-slideshow")&&(this.inSlideshow=!0),this.init())}var i={trigger:".product__photo-zoom",images:".photoswipe__image",activeImage:".slick-active .photoswipe__image"};return e.prototype=t.extend({},e.prototype,{init:function(){var e=this.$container.find(i.trigger);this.$images=this.$container.find(i.images);var n=[];e.on("click"+this.namespace,function(e){if(n=this.getImageData(),this.inSlideshow||theme.config.bpSmall)var o=this.$container.find(i.activeImage).data("index");else var o=t(e.currentTarget).data("index");this.initGallery(n,o)}.bind(this))},getImageData:function(){var e=[];return this.$images.each(function(){var i=t(this).prop("currentSrc")||t(this).prop("src"),n={msrc:i,src:t(this).data("photoswipe-src"),w:t(this).data("photoswipe-width"),h:t(this).data("photoswipe-height"),el:t(this)[0],initialZoomLevel:.5};e.push(n)}),e},initGallery:function(t,e){var i=document.querySelectorAll(".pswp")[0],n={allowPanToNext:!1,captionEl:!1,closeOnScroll:!1,counterEl:!1,history:!1,index:e-1,pinchToClose:!1,preloaderEl:!1,scaleMode:"zoom",shareEl:!1,tapToToggleControls:!1,getThumbBoundsFn:function(e){var i=window.pageYOffset||document.documentElement.scrollTop,n=t[e].el,o=n.getBoundingClientRect();return{x:o.left,y:o.top+i,w:o.width}}};this.gallery=new PhotoSwipe(i,PhotoSwipeUI_Default,t,n),this.gallery.init(),this.gallery.listen("afterChange",this.afterChange.bind(this))},afterChange:function(){if(this.inSlideshow){var e=t("#ProductPhotos-"+this.sectionId);if(e.hasClass("slick-initialized")){var i=this.gallery.getCurrentIndex();e.slick("slickGoTo",i)}}}}),e}(),window.onYouTubeIframeAPIReady=function(){theme.config.youTubeReady=!0,t("body").trigger("youTubeReady")},window.loadVimeo=function(){if(!theme.config.vimeoLoading&&!theme.config.vimeoReady){theme.config.vimeoLoading=!0;var i=document.createElement("script");i.src="https://player.vimeo.com/api/player.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(i,n),e().then(function(){theme.config.vimeoReady=!0,theme.config.vimeoLoading=!1,t("body").trigger("vimeoReady")}).fail(function(){})}},theme.init=function(){theme.setGlobals(),theme.pageTransitions(),theme.QuickShopScreens.init(),theme.articleImages.init(),theme.collapsibles.init(),"sticky"===theme.settings.cartType&&new theme.StickyCart.init,theme.customerTemplates.init(),theme.videoModal(),theme.rte.init(),t(document.documentElement).on("keyup.tab",function(e){9===e.keyCode&&(t(document.documentElement).addClass("tab-outline"),t(document.documentElement).off("keyup.tab"))}),window.addEventListener("pageshow",function(t){t.persisted&&theme.refreshCart()}),performance&&2===performance.navigation.type&&theme.refreshCart()},theme.refreshCart=function(){"sticky"===theme.settings.cartType&&theme.StickyCart&&t.getJSON("/cart.js").then(function(t){theme.StickyCart.refresh(t)})},theme.setGlobals=function(){theme.config.hasSessionStorage=theme.isSessionStorageSupported(),theme.config.isTouch&&t("body").addClass("supports-touch"),enquire.register(theme.config.mediaQuerySmall,{match:function(){theme.config.bpSmall=!0,t("body").trigger("matchSmall")},unmatch:function(){theme.config.bpSmall=!1,t("body").trigger("unmatchSmall")}}),enquire.register(theme.config.mediaQuerySmallUp,{match:function(){t("body").trigger("matchLarge")},unmatch:function(){t("body").trigger("unmatchLarge")}})},theme.loadImageSection=function(t){function e(){t.removeClass("loading").addClass("loaded")}function i(){return t.find(".lazyloaded").length}if(t.find("svg").length)return void e();if(i()>0)return void e();var n=setInterval(function(){i()>0&&(clearInterval(n),e())},80)},theme.isSessionStorageSupported=function(){if(window.self!==window.top)return!1;var t="test",e=window.sessionStorage;try{return e.setItem(t,"1"),e.removeItem(t),!0}catch(t){return!1}},theme.isElementVisible=function(t,e){var i=t[0].getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight;return e=e?e:0,null!==t[0].offsetParent&&(i.bottom>=0-e/1.5&&i.right>=0&&i.top<=n+e&&i.left<=(window.innerWidth||document.documentElement.clientWidth))},theme.pageTransitions=function(){1==t("body").data("transitions")&&(theme.config.isSafari&&t("a").on("click",function(){window.setTimeout(function(){t("body").removeClass("unloading")},1200)}),t('a[href^="mailto:"], a[href^="#"], a[target="_blank"], a[href*="youtube.com/watch"], a[href*="youtu.be/"], a[download]').each(function(){t(this).addClass("js-no-transition")}),t("a:not(.js-no-transition)").on("click",function(e){if(e.metaKey)return!0;var i=t(this).attr("href");return i.indexOf(location.pathname)>=0&&i.indexOf("#")>=0||(e.preventDefault(),t("body").addClass("unloading"),void window.setTimeout(function(){location.href=i},50))}))},window.onpageshow=function(e){e.persisted&&(t("body").removeClass("unloading"),t(".cart__checkout").removeClass("btn--loading"),t("#StickySubmit").removeClass("btn--loading"));var i=event.persisted||"undefined"!=typeof window.performance&&window.performance.navigation&&2===window.performance.navigation.type;i&&theme.resetScrollPosition()},theme.initSecondary=function(){document.body.classList.add("js-animate"),AOS.init({easing:"ease-out-quad",once:!1,mirror:!0,offset:100,disableMutationObserver:!0}),document.addEventListener("lazyloaded",function(e){var i=t(e.target);i.length&&i.parent().addClass("loaded")}),document.dispatchEvent(new CustomEvent("page:loaded")),theme.storeScrollPositionOnUnload(),theme.reviewAppLinkListener(),theme.checkForAnchorLink()},theme.storeScrollPositionOnUnload=function(){if(theme.config.hasSessionStorage){var e=theme.config.isSafari?"pagehide":"beforeunload";window.addEventListener(e,function(e){var i=t(document).scrollTop();sessionStorage.setItem("scrollPosition_"+document.location.pathname,i.toString())})}},theme.resetScrollPosition=function(){if(theme.config.hasSessionStorage){var e=document.location.pathname;sessionStorage["scrollPosition_"+e]&&t(document).scrollTop(sessionStorage.getItem("scrollPosition_"+e))}},theme.reviewAppLinkListener=function(){t("body").on("click",".spr-pagination",function(){t(this).closest(".spr-reviews").scrollLeft(0)})},theme.checkForAnchorLink=function(){if(window.location.hash){var t=document.querySelector(window.location.hash);t&&window.scrollTo(0,t.offsetTop-100)}},theme.reinitProductGridItem=function(){AOS&&AOS.refreshHard(),window.SPR&&(SPR.initDomEls(),SPR.loadBadges()),theme.collapsibles.init()},t(document).ready(function(){theme.init(),theme.utils.promiseStylesheet().then(function(){theme.initSecondary()}),window.sections=new theme.Sections,sections.register("header-section",theme.HeaderSection),sections.register("slideshow-section",theme.SlideshowSection),sections.register("hero-animated",theme.HeroAnimated),sections.register("video-section",theme.VideoSection),sections.register("product",theme.Product),sections.register("product-recommendations",theme.Recommendations),sections.register("product-template",theme.Product),sections.register("featured-collection",theme.FeaturedCollection),sections.register("collection-template",theme.Collection),sections.register("collection-filter",theme.CollectionFilter),sections.register("featured-content-section",theme.FeaturedContentSection),sections.register("testimonials",theme.Testimonials),sections.register("newsletter-popup",theme.NewsletterPopup),sections.register("map",theme.Maps),sections.register("blog",theme.Blog),sections.register("footer-section",theme.FooterSection)})}(theme.jQuery);